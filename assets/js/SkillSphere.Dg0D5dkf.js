import{r as e}from"./react-vendor.CGM0SB6t.js";import{E as t,V as n,b as r,T as a,S as i,c as o,O as s,Q as l,d as u,e as c,f as h,g as d,h as f,i as p,U as v,j as m,k as g,I as y,l as b,B as x,m as S,n as w,a as T,o as k,L as U,p as A,q as C,r as E,s as _,M,t as P,u as F,v as D,C as O}from"./react-three-fiber.esm.CQlPS4KC.js";import{j as R}from"./main.BYdgsmv9.js";import{_ as I}from"./ui-vendor.D2l58sQK.js";import"./animation-vendor.DmVePRw9.js";const L=[];function B(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let a=0;a<r;a++)if(!n(e[a],t[a]))return!1;return!0}var j=Object.defineProperty,G=(e,t,n)=>(((e,t,n)=>{t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const V=new c,z=new h,N=Math.cos(Math.PI/180*70),W=(e,t)=>(e%t+t)%t;let X=class extends t{constructor(e,t){super(),G(this,"object"),G(this,"domElement"),G(this,"enabled",!0),G(this,"target",new n),G(this,"minDistance",0),G(this,"maxDistance",1/0),G(this,"minZoom",0),G(this,"maxZoom",1/0),G(this,"minPolarAngle",0),G(this,"maxPolarAngle",Math.PI),G(this,"minAzimuthAngle",-1/0),G(this,"maxAzimuthAngle",1/0),G(this,"enableDamping",!1),G(this,"dampingFactor",.05),G(this,"enableZoom",!0),G(this,"zoomSpeed",1),G(this,"enableRotate",!0),G(this,"rotateSpeed",1),G(this,"enablePan",!0),G(this,"panSpeed",1),G(this,"screenSpacePanning",!0),G(this,"keyPanSpeed",7),G(this,"zoomToCursor",!1),G(this,"autoRotate",!1),G(this,"autoRotateSpeed",2),G(this,"reverseOrbit",!1),G(this,"reverseHorizontalOrbit",!1),G(this,"reverseVerticalOrbit",!1),G(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),G(this,"mouseButtons",{LEFT:r.ROTATE,MIDDLE:r.DOLLY,RIGHT:r.PAN}),G(this,"touches",{ONE:a.ROTATE,TWO:a.DOLLY_PAN}),G(this,"target0"),G(this,"position0"),G(this,"zoom0"),G(this,"_domElementKeyEvents",null),G(this,"getPolarAngle"),G(this,"getAzimuthalAngle"),G(this,"setPolarAngle"),G(this,"setAzimuthalAngle"),G(this,"getDistance"),G(this,"getZoomScale"),G(this,"listenToKeyEvents"),G(this,"stopListenToKeyEvents"),G(this,"saveState"),G(this,"reset"),G(this,"update"),G(this,"connect"),G(this,"dispose"),G(this,"dollyIn"),G(this,"dollyOut"),G(this,"getScale"),G(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=e=>{let t=W(e,2*Math.PI),n=g.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),y.phi=t-n,c.update()},this.setAzimuthalAngle=e=>{let t=W(e,2*Math.PI),n=g.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),y.theta=t-n,c.update()},this.getDistance=()=>c.object.position.distanceTo(c.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ue),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ue),this._domElementKeyEvents=null},this.saveState=()=>{c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=()=>{c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(h),c.update(),v=p.NONE},this.update=(()=>{const t=new n,r=new n(0,1,0),a=(new l).setFromUnitVectors(e.up,r),i=a.clone().invert(),u=new n,d=new l,f=2*Math.PI;return function(){const l=c.object.position;a.setFromUnitVectors(e.up,r),i.copy(a).invert(),t.copy(l).sub(c.target),t.applyQuaternion(a),g.setFromVector3(t),c.autoRotate&&v===p.NONE&&I(2*Math.PI/60/60*c.autoRotateSpeed),c.enableDamping?(g.theta+=y.theta*c.dampingFactor,g.phi+=y.phi*c.dampingFactor):(g.theta+=y.theta,g.phi+=y.phi);let S=c.minAzimuthAngle,w=c.maxAzimuthAngle;isFinite(S)&&isFinite(w)&&(S<-Math.PI?S+=f:S>Math.PI&&(S-=f),w<-Math.PI?w+=f:w>Math.PI&&(w-=f),g.theta=S<=w?Math.max(S,Math.min(w,g.theta)):g.theta>(S+w)/2?Math.max(S,g.theta):Math.min(w,g.theta)),g.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,g.phi)),g.makeSafe(),!0===c.enableDamping?c.target.addScaledVector(x,c.dampingFactor):c.target.add(x),c.zoomToCursor&&F||c.object.isOrthographicCamera?g.radius=K(g.radius):g.radius=K(g.radius*b),t.setFromSpherical(g),t.applyQuaternion(i),l.copy(c.target).add(t),c.object.matrixAutoUpdate||c.object.updateMatrix(),c.object.lookAt(c.target),!0===c.enableDamping?(y.theta*=1-c.dampingFactor,y.phi*=1-c.dampingFactor,x.multiplyScalar(1-c.dampingFactor)):(y.set(0,0,0),x.set(0,0,0));let T=!1;if(c.zoomToCursor&&F){let r=null;if(c.object instanceof o&&c.object.isPerspectiveCamera){const e=t.length();r=K(e*b);const n=e-r;c.object.position.addScaledVector(M,n),c.object.updateMatrixWorld()}else if(c.object.isOrthographicCamera){const e=new n(P.x,P.y,0);e.unproject(c.object),c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/b)),c.object.updateProjectionMatrix(),T=!0;const a=new n(P.x,P.y,0);a.unproject(c.object),c.object.position.sub(a).add(e),c.object.updateMatrixWorld(),r=t.length()}else c.zoomToCursor=!1;null!==r&&(c.screenSpacePanning?c.target.set(0,0,-1).transformDirection(c.object.matrix).multiplyScalar(r).add(c.object.position):(V.origin.copy(c.object.position),V.direction.set(0,0,-1).transformDirection(c.object.matrix),Math.abs(c.object.up.dot(V.direction))<N?e.lookAt(c.target):(z.setFromNormalAndCoplanarPoint(c.object.up,c.target),V.intersectPlane(z,c.target))))}else c.object instanceof s&&c.object.isOrthographicCamera&&(T=1!==b,T&&(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/b)),c.object.updateProjectionMatrix()));return b=1,F=!1,!!(T||u.distanceToSquared(c.object.position)>m||8*(1-d.dot(c.object.quaternion))>m)&&(c.dispatchEvent(h),u.copy(c.object.position),d.copy(c.object.quaternion),T=!1,!0)}})(),this.connect=e=>{c.domElement=e,c.domElement.style.touchAction="none",c.domElement.addEventListener("contextmenu",ce),c.domElement.addEventListener("pointerdown",ie),c.domElement.addEventListener("pointercancel",se),c.domElement.addEventListener("wheel",le)},this.dispose=()=>{var e,t,n,r,a,i;c.domElement&&(c.domElement.style.touchAction="auto"),null==(e=c.domElement)||e.removeEventListener("contextmenu",ce),null==(t=c.domElement)||t.removeEventListener("pointerdown",ie),null==(n=c.domElement)||n.removeEventListener("pointercancel",se),null==(r=c.domElement)||r.removeEventListener("wheel",le),null==(a=c.domElement)||a.ownerDocument.removeEventListener("pointermove",oe),null==(i=c.domElement)||i.ownerDocument.removeEventListener("pointerup",se),null!==c._domElementKeyEvents&&c._domElementKeyEvents.removeEventListener("keydown",ue)};const c=this,h={type:"change"},d={type:"start"},f={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let v=p.NONE;const m=1e-6,g=new i,y=new i;let b=1;const x=new n,S=new u,w=new u,T=new u,k=new u,U=new u,A=new u,C=new u,E=new u,_=new u,M=new n,P=new u;let F=!1;const D=[],O={};function R(){return Math.pow(.95,c.zoomSpeed)}function I(e){c.reverseOrbit||c.reverseHorizontalOrbit?y.theta+=e:y.theta-=e}function L(e){c.reverseOrbit||c.reverseVerticalOrbit?y.phi+=e:y.phi-=e}const B=(()=>{const e=new n;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),x.add(e)}})(),j=(()=>{const e=new n;return function(t,n){!0===c.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(c.object.up,e)),e.multiplyScalar(t),x.add(e)}})(),X=(()=>{const e=new n;return function(t,n){const r=c.domElement;if(r&&c.object instanceof o&&c.object.isPerspectiveCamera){const a=c.object.position;e.copy(a).sub(c.target);let i=e.length();i*=Math.tan(c.object.fov/2*Math.PI/180),B(2*t*i/r.clientHeight,c.object.matrix),j(2*n*i/r.clientHeight,c.object.matrix)}else r&&c.object instanceof s&&c.object.isOrthographicCamera?(B(t*(c.object.right-c.object.left)/c.object.zoom/r.clientWidth,c.object.matrix),j(n*(c.object.top-c.object.bottom)/c.object.zoom/r.clientHeight,c.object.matrix)):c.enablePan=!1}})();function H(e){c.object instanceof o&&c.object.isPerspectiveCamera||c.object instanceof s&&c.object.isOrthographicCamera?b=e:c.enableZoom=!1}function Y(e){H(b/e)}function q(e){H(b*e)}function $(e){if(!c.zoomToCursor||!c.domElement)return;F=!0;const t=c.domElement.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,a=t.width,i=t.height;P.x=n/a*2-1,P.y=-r/i*2+1,M.set(P.x,P.y,1).unproject(c.object).sub(c.object.position).normalize()}function K(e){return Math.max(c.minDistance,Math.min(c.maxDistance,e))}function Z(e){S.set(e.clientX,e.clientY)}function Q(e){k.set(e.clientX,e.clientY)}function J(){if(1==D.length)S.set(D[0].pageX,D[0].pageY);else{const e=.5*(D[0].pageX+D[1].pageX),t=.5*(D[0].pageY+D[1].pageY);S.set(e,t)}}function ee(){if(1==D.length)k.set(D[0].pageX,D[0].pageY);else{const e=.5*(D[0].pageX+D[1].pageX),t=.5*(D[0].pageY+D[1].pageY);k.set(e,t)}}function te(){const e=D[0].pageX-D[1].pageX,t=D[0].pageY-D[1].pageY,n=Math.sqrt(e*e+t*t);C.set(0,n)}function ne(e){if(1==D.length)w.set(e.pageX,e.pageY);else{const t=de(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}T.subVectors(w,S).multiplyScalar(c.rotateSpeed);const t=c.domElement;t&&(I(2*Math.PI*T.x/t.clientHeight),L(2*Math.PI*T.y/t.clientHeight)),S.copy(w)}function re(e){if(1==D.length)U.set(e.pageX,e.pageY);else{const t=de(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);U.set(n,r)}A.subVectors(U,k).multiplyScalar(c.panSpeed),X(A.x,A.y),k.copy(U)}function ae(e){const t=de(e),n=e.pageX-t.x,r=e.pageY-t.y,a=Math.sqrt(n*n+r*r);E.set(0,a),_.set(0,Math.pow(E.y/C.y,c.zoomSpeed)),Y(_.y),C.copy(E)}function ie(e){var t,n;!1!==c.enabled&&(0===D.length&&(null==(t=c.domElement)||t.ownerDocument.addEventListener("pointermove",oe),null==(n=c.domElement)||n.ownerDocument.addEventListener("pointerup",se)),function(e){D.push(e)}(e),"touch"===e.pointerType?function(e){switch(he(e),D.length){case 1:switch(c.touches.ONE){case a.ROTATE:if(!1===c.enableRotate)return;J(),v=p.TOUCH_ROTATE;break;case a.PAN:if(!1===c.enablePan)return;ee(),v=p.TOUCH_PAN;break;default:v=p.NONE}break;case 2:switch(c.touches.TWO){case a.DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;c.enableZoom&&te(),c.enablePan&&ee(),v=p.TOUCH_DOLLY_PAN;break;case a.DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;c.enableZoom&&te(),c.enableRotate&&J(),v=p.TOUCH_DOLLY_ROTATE;break;default:v=p.NONE}break;default:v=p.NONE}v!==p.NONE&&c.dispatchEvent(d)}(e):function(e){let t;switch(e.button){case 0:t=c.mouseButtons.LEFT;break;case 1:t=c.mouseButtons.MIDDLE;break;case 2:t=c.mouseButtons.RIGHT;break;default:t=-1}switch(t){case r.DOLLY:if(!1===c.enableZoom)return;!function(e){$(e),C.set(e.clientX,e.clientY)}(e),v=p.DOLLY;break;case r.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enablePan)return;Q(e),v=p.PAN}else{if(!1===c.enableRotate)return;Z(e),v=p.ROTATE}break;case r.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enableRotate)return;Z(e),v=p.ROTATE}else{if(!1===c.enablePan)return;Q(e),v=p.PAN}break;default:v=p.NONE}v!==p.NONE&&c.dispatchEvent(d)}(e))}function oe(e){!1!==c.enabled&&("touch"===e.pointerType?function(e){switch(he(e),v){case p.TOUCH_ROTATE:if(!1===c.enableRotate)return;ne(e),c.update();break;case p.TOUCH_PAN:if(!1===c.enablePan)return;re(e),c.update();break;case p.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&ae(e),c.enablePan&&re(e)}(e),c.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&ae(e),c.enableRotate&&ne(e)}(e),c.update();break;default:v=p.NONE}}(e):function(e){if(!1!==c.enabled)switch(v){case p.ROTATE:if(!1===c.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),T.subVectors(w,S).multiplyScalar(c.rotateSpeed);const t=c.domElement;t&&(I(2*Math.PI*T.x/t.clientHeight),L(2*Math.PI*T.y/t.clientHeight)),S.copy(w),c.update()}(e);break;case p.DOLLY:if(!1===c.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),_.subVectors(E,C),_.y>0?Y(R()):_.y<0&&q(R()),C.copy(E),c.update()}(e);break;case p.PAN:if(!1===c.enablePan)return;!function(e){U.set(e.clientX,e.clientY),A.subVectors(U,k).multiplyScalar(c.panSpeed),X(A.x,A.y),k.copy(U),c.update()}(e)}}(e))}function se(e){var t,n,r;!function(e){delete O[e.pointerId];for(let t=0;t<D.length;t++)if(D[t].pointerId==e.pointerId)return void D.splice(t,1)}(e),0===D.length&&(null==(t=c.domElement)||t.releasePointerCapture(e.pointerId),null==(n=c.domElement)||n.ownerDocument.removeEventListener("pointermove",oe),null==(r=c.domElement)||r.ownerDocument.removeEventListener("pointerup",se)),c.dispatchEvent(f),v=p.NONE}function le(e){!1===c.enabled||!1===c.enableZoom||v!==p.NONE&&v!==p.ROTATE||(e.preventDefault(),c.dispatchEvent(d),function(e){$(e),e.deltaY<0?q(R()):e.deltaY>0&&Y(R()),c.update()}(e),c.dispatchEvent(f))}function ue(e){!1!==c.enabled&&!1!==c.enablePan&&function(e){let t=!1;switch(e.code){case c.keys.UP:X(0,c.keyPanSpeed),t=!0;break;case c.keys.BOTTOM:X(0,-c.keyPanSpeed),t=!0;break;case c.keys.LEFT:X(c.keyPanSpeed,0),t=!0;break;case c.keys.RIGHT:X(-c.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),c.update())}(e)}function ce(e){!1!==c.enabled&&e.preventDefault()}function he(e){let t=O[e.pointerId];void 0===t&&(t=new u,O[e.pointerId]=t),t.set(e.pageX,e.pageY)}function de(e){const t=e.pointerId===D[0].pointerId?D[1]:D[0];return O[t.pointerId]}this.dollyIn=(e=R())=>{q(e),c.update()},this.dollyOut=(e=R())=>{Y(e),c.update()},this.getScale=()=>b,this.setScale=e=>{H(e),c.update()},this.getZoomScale=()=>R(),void 0!==t&&this.connect(t),this.update()}};function H(){var e=Object.create(null);function t(r,a){var i=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[i])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+o+">.init",l),u&&(u=n("<"+o+">.getTransferables",u));var c=null;"function"==typeof l&&(c=l.apply(void 0,s)),e[i]={id:i,value:c,getTransferables:u},a(c)}catch(h){!h||h.noLog,a(h)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(a){}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,a=r.messageId,i=r.action,o=r.data;try{"registerModule"===i&&t(o,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===i&&function(t,n){var r,a=t.id,i=t.args;e[a]&&"function"==typeof e[a].value||n(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(r=e[a]).value.apply(r,i);o&&"function"==typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(l){n(l)}function s(t){try{var r=e[a].getTransferables&&e[a].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(l){n(l)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:a,success:!1,error:s.stack})}}))}var Y=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){}return Y=function(){return e},e},q=0,$=0,K=!1,Z=Object.create(null),Q=Object.create(null),J=Object.create(null);function ee(e){if(!(e&&"function"==typeof e.init||K))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId,i=function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e})):[];var a=Promise.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==a&&(a="#default");var o="workerModule"+ ++q,s=e.name||o,l=null;function u(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!Y())return i.apply(void 0,e);if(!l){l=ne(a,"registerModule",u.workerModuleData);var n=function(){l=null,Q[a].delete(n)};(Q[a]||(Q[a]=new Set)).add(n)}return l.then((function(t){if(t.isCallable)return ne(a,"callModule",{id:o,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(K=!0,e=ee({workerId:a,name:"<"+s+"> function dependency: "+e.name,init:"function(){return (\n"+te(e)+"\n)}"}),K=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),u.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:t,init:te(n),getTransferables:r&&te(r)},u.onMainThread=i,u}function te(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function ne(e,t,n){return new Promise((function(r,a){var i=++$;J[i]=function(e){e.success?r(e.result):a(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=Z[e];if(!t){var n=te(H);(t=Z[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=J[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete J[n],r(t)}}return t}(e).postMessage({messageId:i,action:t,data:n})}))}function re(){var e=function(e){function t(e,t,n,r,a,i,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*a+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*i+l*l*l*s}function n(e,t){for(var n,r,a,i,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":i=r=l[0],o=a=l[1];break;case"L":l[0]===i&&l[1]===o||t("L",i,o,i=l[0],o=l[1]);break;case"Q":t("Q",i,o,i=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",i,o,i=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":i===r&&o===a||t("L",i,o,r,a)}}}function r(e,r,a){void 0===a&&(a=16);var i={x:0,y:0};n(e,(function(e,n,o,s,l,u,c,h,d){switch(e){case"L":r(n,o,s,l);break;case"Q":for(var f=n,p=o,v=1;v<a;v++)b=o,x=c,S=l,k=1-(w=v/(a-1)),(T=i).x=k*k*n+2*k*w*u+w*w*s,T.y=k*k*b+2*k*w*x+w*w*S,r(f,p,i.x,i.y),f=i.x,p=i.y;break;case"C":for(var m=n,g=o,y=1;y<a;y++)t(n,o,u,c,h,d,s,l,y/(a-1),i),r(m,g,i.x,i.y),m=i.x,g=i.y}var b,x,S,w,T,k}))}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",i=new WeakMap,o={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(e,t){var n=e.getContext?e.getContext("webgl",o):e,r=i.get(n);if(!r){let e=function(e){var t=s[e];if(!t&&!(t=s[e]=n.getExtension(e)))throw new Error(e+" not supported");return t},t=function(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r},o=function(r,i,o,s){if(!l[r]){var u={},c={},h=n.createProgram();n.attachShader(h,t(i,n.VERTEX_SHADER)),n.attachShader(h,t(o,n.FRAGMENT_SHADER)),n.linkProgram(h),l[r]={program:h,transaction:function(t){n.useProgram(h),t({setUniform:function(e,t){for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];var i=c[t]||(c[t]=n.getUniformLocation(h,t));n["uniform"+e].apply(n,[i].concat(r))},setAttribute:function(t,r,i,o,s){var l=u[t];l||(l=u[t]={buf:n.createBuffer(),loc:n.getAttribLocation(h,t),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,r,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),a?n.vertexAttribDivisor(l.loc,o):e("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,o),s!==l.data&&(n.bufferData(n.ARRAY_BUFFER,s,i),l.data=s)}})}}}l[r].transaction(s)},d=function(e,t){c++;try{n.activeTexture(n.TEXTURE0+c);var r=u[e];r||(r=u[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,c)}finally{c--}},f=function(e,t,r){var a=n.createFramebuffer();h.push(a),n.bindFramebuffer(n.FRAMEBUFFER,a),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(a)}finally{n.deleteFramebuffer(a),n.bindFramebuffer(n.FRAMEBUFFER,h[--h.length-1]||null)}},p=function(){s={},l={},u={},c=-1,h.length=0};var a="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,s={},l={},u={},c=-1,h=[];n.canvas.addEventListener("webglcontextlost",(function(e){p(),e.preventDefault()}),!1),i.set(n,r={gl:n,isWebGL2:a,getExtension:e,withProgram:o,withTexture:d,withTextureFramebuffer:f,handleContextLoss:p})}t(r)}function l(e,t,n,r,i,o,l,u){void 0===l&&(l=15),void 0===u&&(u=null),s(e,(function(e){var s=e.gl,c=e.withProgram;(0,e.withTexture)("copy",(function(e,h){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,i,o,0,s.RGBA,s.UNSIGNED_BYTE,t),c("copy",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,s.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",h),s.bindFramebuffer(s.FRAMEBUFFER,u||null),s.disable(s.BLEND),s.colorMask(8&l,4&l,2&l,1&l),s.viewport(n,r,i,o),s.scissor(n,r,i,o),s.drawArrays(s.TRIANGLES,0,3)}))}))}))}var u=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:l,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,a=e.height;s(e,(function(i){var o=i.gl,s=new Uint8Array(r*a*4);o.readPixels(0,0,r,a,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=n,l(o,s,0,0,r,a)}))}});function c(e,t,n,a,i,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=a[2]-a[0],u=a[3]-a[1],c=[];r(n,(function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})})),c.sort((function(e,t){return e.maxX-t.maxX}));for(var h=0;h<e;h++)for(var d=0;d<t;d++){var p=m(a[0]+l*(h+.5)/e,a[1]+u*(d+.5)/t),v=Math.pow(1-Math.abs(p)/i,o)/2;p<0&&(v=1-v),v=Math.max(0,Math.min(255,Math.round(255*v))),s[d*e+h]=v}return s;function m(e,t){for(var n=1/0,r=1/0,a=c.length;a--;){var i=c[a];if(i.maxX+r<=e)break;if(e+r>i.minX&&t-r<i.maxY&&t+r>i.minY){var o=f(e,t,i.x1,i.y1,i.x2,i.y2);o<n&&(n=o,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=c.length;r--;){var a=c[r];if(a.maxX<=e)break;a.y1>t!=a.y2>t&&e<(a.x2-a.x1)*(t-a.y1)/(a.y2-a.y1)+a.x1&&(n+=a.y1<a.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function h(e,t,n,r,a,i,o,s,l,u){void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),d(e,t,n,r,a,i,o,null,s,l,u)}function d(e,t,n,r,a,i,o,s,u,h,d){void 0===i&&(i=1),void 0===u&&(u=0),void 0===h&&(h=0),void 0===d&&(d=0);for(var f=c(e,t,n,r,a,i),p=new Uint8Array(4*f.length),v=0;v<f.length;v++)p[4*v+d]=f[v];l(o,p,u,h,e,t,1<<3-d,s)}function f(e,t,n,r,a,i){var o=a-n,s=i-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),h=t-(r+u*s);return c*c+h*h}var p=Object.freeze({__proto__:null,generate:c,generateIntoCanvas:h,generateIntoFramebuffer:d}),v=new Float32Array([0,0,2,0,0,2]),m=null,g=!1,y={},b=new WeakMap;function x(e){if(!g&&!k(e))throw new Error("WebGL generation not supported")}function S(e,t,n,r,a,i,o){if(void 0===i&&(i=1),void 0===o&&(o=null),!o&&!(o=m)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw new Error("OffscreenCanvas or DOM canvas not supported");o=m=l.getContext("webgl",{depth:!1})}x(o);var u=new Uint8Array(e*t*4);s(o,(function(o){var s=o.gl,l=o.withTexture,c=o.withTextureFramebuffer;l("readable",(function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,l,(function(o){T(e,t,n,r,a,i,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,u)}))}))}));for(var c=new Uint8Array(e*t),h=0,d=0;h<u.length;h+=4)c[d++]=u[h];return c}function w(e,t,n,r,a,i,o,s,l,u){void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),T(e,t,n,r,a,i,o,null,s,l,u)}function T(e,t,n,i,o,l,u,c,h,d,f){void 0===l&&(l=1),void 0===h&&(h=0),void 0===d&&(d=0),void 0===f&&(f=0),x(u);var p=[];r(n,(function(e,t,n,r){p.push(e,t,n,r)})),p=new Float32Array(p),s(u,(function(n){var r=n.gl,s=n.isWebGL2,u=n.getExtension,m=n.withProgram,g=n.withTexture,y=n.withTextureFramebuffer,b=n.handleContextLoss;if(g("rawDistances",(function(n,g){e===n._lastWidth&&t===n._lastHeight||r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n._lastWidth=e,n._lastHeight=t,0,r.RGBA,r.UNSIGNED_BYTE,null),m("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(a){var c=a.setAttribute,h=a.setUniform,d=!s&&u("ANGLE_instanced_arrays"),f=!s&&u("EXT_blend_minmax");c("aUV",2,r.STATIC_DRAW,0,v),c("aLineSegment",4,r.DYNAMIC_DRAW,1,p),h.apply(void 0,["4f","uGlyphBounds"].concat(i)),h("1f","uMaxDistance",o),h("1f","uExponent",l),y(n,g,(function(n){r.enable(r.BLEND),r.colorMask(!0,!0,!0,!0),r.viewport(0,0,e,t),r.scissor(0,0,e,t),r.blendFunc(r.ONE,r.ONE),r.blendEquationSeparate(r.FUNC_ADD,s?r.MAX:f.MAX_EXT),r.clear(r.COLOR_BUFFER_BIT),s?r.drawArraysInstanced(r.TRIANGLES,0,3,p.length/4):d.drawArraysInstancedANGLE(r.TRIANGLES,0,3,p.length/4)}))})),m("post",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(n){n.setAttribute("aUV",2,r.STATIC_DRAW,0,v),n.setUniform("1i","tex",g),r.bindFramebuffer(r.FRAMEBUFFER,c),r.disable(r.BLEND),r.colorMask(0===f,1===f,2===f,3===f),r.viewport(h,d,e,t),r.scissor(h,d,e,t),r.drawArrays(r.TRIANGLES,0,3)}))})),r.isContextLost())throw b(),new Error("webgl context lost")}))}function k(e){var t=e&&e!==m?e.canvas||e:y,n=b.get(t);if(void 0===n){g=!0;try{var r=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=S(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);n=a&&r.length===a.length&&a.every((function(e,t){return e===r[t]}))}catch(i){n=!1,i.message}g=!1,b.set(t,n)}return n}var U=Object.freeze({__proto__:null,generate:S,generateIntoCanvas:w,generateIntoFramebuffer:T,isSupported:k});return e.forEachPathCommand=n,e.generate=function(e,t,n,r,a,i){void 0===a&&(a=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===i&&(i=1);try{return S.apply(U,arguments)}catch(o){return c.apply(p,arguments)}},e.generateIntoCanvas=function(e,t,n,r,a,i,o,s,l,u){void 0===a&&(a=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return w.apply(U,arguments)}catch(c){return h.apply(p,arguments)}},e.javascript=p,e.pathToLineSegments=r,e.webgl=U,e.webglUtils=u,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}const ae=/\bvoid\s+main\s*\(\s*\)\s*{/g;function ie(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=m[t];return n?ie(n):e}))}const oe=[];for(let Ni=0;Ni<256;Ni++)oe[Ni]=(Ni<16?"0":"")+Ni.toString(16);const se=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},le=Date.now(),ue=new WeakMap,ce=new Map;let he=1e10;function de(e,t){const n=function(e){const t=JSON.stringify(e,pe);let n=me.get(t);return null==n&&me.set(t,n=++ve),n}(t);let r=ue.get(e);if(r||ue.set(e,r=Object.create(null)),r[n])return new r[n];const a=`_onBeforeCompile${n}`,i=function(r,i){e.onBeforeCompile.call(this,r,i);const o=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader;let s=ce[o];if(!s){const e=function(e,{vertexShader:t,fragmentShader:n},r,a){let{vertexDefs:i,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:h,fragmentColorTransform:d,customRewriter:f,timeUniform:p}=r;if(i=i||"",o=o||"",s=s||"",u=u||"",c=c||"",h=h||"",(l||f)&&(t=ie(t)),(d||f)&&(n=ie(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),f){let e=f({vertexShader:t,fragmentShader:n});t=e.vertexShader,n=e.fragmentShader}if(d){let e=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),h=`${d}\n${e.join("\n")}\n${h}`}if(p){const e=`\nuniform float ${p};\n`;i=e+i,u=e+u}return l&&(i=`${i}\nvoid troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${l}\n}\n`,o=`\ntroika_position_${a} = vec3(position);\ntroika_normal_${a} = vec3(normal);\ntroika_uv_${a} = vec2(uv);\ntroikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});\n${o}\n`,t=(t=`vec3 troika_position_${a};\nvec3 troika_normal_${a};\nvec2 troika_uv_${a};\n${t}\n`).replace(/\b(position|normal|uv)\b/g,((e,t,n,r)=>/\battribute\s+vec[23]\s+$/.test(r.substr(0,n))?t:`troika_${t}_${a}`)),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${a}`))),{vertexShader:t=fe(t,a,i,o,s),fragmentShader:n=fe(n,a,u,c,h)}}(this,r,t,n);s=ce[o]=e}r.vertexShader=s.vertexShader,r.fragmentShader=s.fragmentShader,se(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-le}}),this[a]&&this[a](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){const a=Object.create(r,l);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:he++}),a.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(oe[255&e]+oe[e>>8&255]+oe[e>>16&255]+oe[e>>24&255]+"-"+oe[255&t]+oe[t>>8&255]+"-"+oe[t>>16&15|64]+oe[t>>24&255]+"-"+oe[63&n|128]+oe[n>>8&255]+"-"+oe[n>>16&255]+oe[n>>24&255]+oe[255&r]+oe[r>>8&255]+oe[r>>16&255]+oe[r>>24&255]).toUpperCase()}(),a.uniforms=se({},r.uniforms,t.uniforms),a.defines=se({},r.defines,t.defines),a.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",a.extensions=se({},r.extensions,t.extensions),a._listeners=void 0,a},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){const t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>i,set(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(se(this.extensions,t.extensions),se(this.defines,t.defines),se(this.uniforms,v.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=de(e.isDerivedMaterial?e.getDepthMaterial():new f({depthPacking:p}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=de(e.isDerivedMaterial?e.getDistanceMaterial():new d,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function fe(e,t,n,r,a){return(r||a||n)&&(e=e.replace(ae,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${r}\n  troikaOrigMain${t}();\n  ${a}\n}`),e}function pe(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let ve=0;const me=new Map,ge=ee({name:"FontResolver",dependencies:[function(e,t){const n=Object.create(null),r=Object.create(null);function a(t,a){let i=n[t];i?a(i):r[t]?r[t].push(a):(r[t]=[a],function(a){const i=e=>{};try{const o=new XMLHttpRequest;o.open("get",a,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)new Error(o.statusText);else if(o.status>0)try{const i=e(o.response);i.src=a,(e=>{e.src=t,n[t]=e,r[t].forEach((t=>t(e))),delete r[t]})(i)}catch(i){}},o.onerror=i,o.send()}catch(o){}}(t))}return function(e,r,{lang:i,fonts:o=[],style:s="normal",weight:l="normal",unicodeFontsURL:u}={}){const c=new Uint8Array(e.length),h=[];e.length||v();const d=new Map,f=[];if("italic"!==s&&(s="normal"),"number"!=typeof l&&(l="bold"===l?700:400),o&&!Array.isArray(o)&&(o=[o]),(o=o.slice().filter((e=>!e.lang||e.lang.test(i))).reverse()).length){const t=1,r=2;let i=0;!function s(l=0){for(let u=l,p=e.length;u<p;u++){const l=e.codePointAt(u);if(i===t&&h[c[u-1]].supportsCodePoint(l)||u>0&&/\s/.test(e[u]))c[u]=c[u-1],i===r&&(f[f.length-1][1]=u);else for(let e=c[u],p=o.length;e<=p;e++)if(e===p)(i===r?f[f.length-1]:f[f.length]=[u,u])[1]=u,i=r;else{c[u]=e;const{src:r,unicodeRange:f}=o[e];if(!f||m(l,f)){const e=n[r];if(!e)return void a(r,(()=>{s(u)}));if(e.supportsCodePoint(l)){let n=d.get(e);"number"!=typeof n&&(n=h.length,h.push(e),d.set(e,n)),c[u]=n,i=t;break}}}l>65535&&u+1<p&&(c[u+1]=c[u],u++,i===r&&(f[f.length-1][1]=u))}p()}()}else f.push([0,e.length-1]),p();function p(){if(f.length){const n=f.map((t=>e.substring(t[0],t[1]+1))).join("\n");t.getFontsForString(n,{lang:i||void 0,style:s,weight:l,dataUrl:u}).then((({fontUrls:e,chars:t})=>{const n=h.length;let r=0;f.forEach((e=>{for(let a=0,i=e[1]-e[0];a<=i;a++)c[e[0]+a]=t[r++]+n;r++}));let i=0;e.forEach(((t,r)=>{a(t,(t=>{h[r+n]=t,++i===e.length&&v()}))}))}))}else v()}function v(){r({chars:c,fonts:h})}function m(e,t){for(let n=0;n<t.length;n++){const[r,a=r]=t[n];if(r<=e&&e<=a)return!0}return!1}}},ee({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var a=4;n.readUshort(r,a),a+=2,n.readUshort(r,a),a+=2;var i=n.readUint(r,a);a+=4;for(var o=[],s=0;s<i;s++){var l=n.readUint(r,a);a+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,a=n;r.readFixed(e,n),n+=4;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:e,_offset:a},l={},u=0;u<i;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var h=r.readUint(e,n);n+=4;var d=r.readUint(e,n);n+=4,l[c]={offset:h,length:d}}for(u=0;u<o.length;u++){var f=o[u];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,n,r){for(var a=t._bin,i=a.readUshort(e,r+4),o=r+12,s=0;s<i;s++){var l=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var u=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,l==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var a=[],i=0;i<r;i++)a.push(t._bin.readUshort(e,n+2*i));return a},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},readUnicode:function(e,t,n){for(var r="",a=0;a<n;a++){var i=e[t++]<<8|e[t++];r+=String.fromCharCode(i)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var a=t._bin._tdec;return a&&0==n&&r==e.length?a.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},readASCIIArray:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(String.fromCharCode(e[t+a]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,a,i){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var h=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+h,i),s},t._lctf.readLookupList=function(e,n,r){var a=t._bin,i=n,o=[],s=a.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=a.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,i+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var a=t._bin,i=n,o={tabs:[]};o.ltype=a.readUshort(e,n),n+=2,o.flag=a.readUshort(e,n),n+=2;var s=a.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=a.readUshort(e,n);n+=2;var h=r(e,l,i+c,o);o.tabs.push(h)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)e>>>n&1&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,a=[],i=r.readUshort(e,n);if(n+=2,1==i){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)a.push(o+l),a.push(o+l),a.push(r.readUshort(e,n)),n+=2}if(2==i){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2}return a},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],a=e[n+1];if(e[n+2],r<=t&&t<=a)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,a={};a.fmt=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,1==a.fmt&&(a.tab=r.readUshorts(e,n,i)),2==a.fmt&&(a.tab=r.readUshorts(e,n,3*i)),a},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var a=t._lctf.getInterval(r,n);if(-1!=a)return r[a+2]+(n-r[a])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,a+u);c.tag=l.trim(),i.push(c)}return i},t._lctf.readFeatureTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.featureParams=a+o);var s=r.readUshort(e,n);n+=2,i.tab=[];for(var l=0;l<s;l++)i.tab.push(r.readUshort(e,n+2*l));return i},t._lctf.readScriptList=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,i[l.trim()]=t._lctf.readScriptTable(e,a+u)}return i},t._lctf.readScriptTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.default=t._lctf.readLangSysTable(e,a+o));var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,i[u.trim()]=t._lctf.readLangSysTable(e,a+c)}return i},t._lctf.readLangSysTable=function(e,n){var r=t._bin,a={};r.readUshort(e,n),n+=2,a.reqFeature=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,a.features=r.readUshorts(e,n,i),a},t.CFF={},t.CFF.parse=function(e,n,r){var a=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var i=[];n=t.CFF.readIndex(e,n,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,n+i[s],i[s+1]-i[s]));n+=i[i.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],h=[];n=t.CFF.readIndex(e,n,h);var d=[];for(s=0;s<h.length-1;s++)d.push(a.readASCII(e,n+h[s],h[s+1]-h[s]));if(n+=h[h.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,h=[],n=t.CFF.readIndex(e,n,h);var f=[];for(s=0;s<h.length-1;s++)f.push(a.readBytes(e,n+h[s],h[s+1]-h[s]));c.CharStrings=f}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var v=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,v,d),c.FDArray.push(v)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var m=e[n];if(n++,3!=m)throw m;var g=a.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(a.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,d),c},t.CFF._readFDict=function(e,n,r){var a;for(var i in n.Private&&(a=n.Private[1],n.Private=t.CFF.readDict(e,a,a+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,a+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(n[i]=r[n[i]-426+35])},t.CFF.readSubrs=function(e,n,r){var a=t._bin,i=[];n=t.CFF.readIndex(e,n,i);var o,s=i.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var l=0;l<i.length-1;l++)r.Subrs.push(a.readBytes(e,n+i[l],i[l+1]-i[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var a=[".notdef"],i=e[n];if(n++,0!=i)throw"error: unknown encoding format: "+i;var o=e[n];n++;for(var s=0;s<o;s++)a.push(e[n+s]);return a},t.CFF.readCharset=function(e,n,r){var a=t._bin,i=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=a.readUshort(e,n);n+=2,i.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<r;){l=a.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=a.readUshort(e,n),n+=2),s=0;s<=u;s++)i.push(l),l++}}return i},t.CFF.readIndex=function(e,n,r){var a=t._bin,i=a.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<i;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<i;s++)r.push(a.readUshort(e,n+2*s));else if(3==o)for(s=0;s<i;s++)r.push(16777215&a.readUint(e,n+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(n+=i*o)-1},t.CFF.getCharString=function(e,n,r){var a=t._bin,i=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;i<=20&&(l=i,s=1),12==i&&(l=100*i+o,s=2),21<=i&&i<=27&&(l=i,s=1),28==i&&(u=a.readShort(e,n+1),s=3),29<=i&&i<=31&&(l=i,s=1),32<=i&&i<=246&&(u=i-139,s=1),247<=i&&i<=250&&(u=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(u=256*-(i-251)-o-108,s=2),255==i&&(u=a.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var a=n+r,i=t._bin,o=[];n<a;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,h=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(h=i.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(h=s-139,u=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,u=2),255==s&&(h=i.readInt(e,n+1)/65535,u=5),o.push(null!=h?h:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var a=t._bin,i={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,h=null;if(28==s&&(h=a.readShort(e,n+1),u=3),29==s&&(h=a.readInt(e,n+1),u=5),32<=s&&s<=246&&(h=s-139,u=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,u=2),255==s)throw h=a.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var d=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,v=15&f;if(15!=p&&d.push(p),15!=v&&d.push(v),15==v)break}for(var m="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)m+=g[d[y]];h=parseFloat(m)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(i[c]=1==o.length?o[0]:o,o=[]):o.push(h),n+=u}return i},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2;var s=[];i.tables=[];for(var l=0;l<o;l++){var u=a.readUshort(e,n);n+=2;var c=a.readUshort(e,n);n+=2;var h=a.readUint(e,n);n+=4;var d="p"+u+"e"+c,f=s.indexOf(h);if(-1==f){var p;f=i.tables.length,s.push(h);var v=a.readUshort(e,h);0==v?p=t.cmap.parse0(e,h):4==v?p=t.cmap.parse4(e,h):6==v?p=t.cmap.parse6(e,h):12==v&&(p=t.cmap.parse12(e,h)),i.tables.push(p)}if(null!=i[d])throw"multiple tables for one platform+encoding";i[d]=f}return i},t.cmap.parse0=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[n+o]);return a},t.cmap.parse4=function(e,n){var r=t._bin,a=n,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;i.searchRange=r.readUshort(e,n),n+=2,i.entrySelector=r.readUshort(e,n),n+=2,i.rangeShift=r.readUshort(e,n),n+=2,i.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,i.startCount=r.readUshorts(e,n,l),n+=2*l,i.idDelta=[];for(var u=0;u<l;u++)i.idDelta.push(r.readShort(e,n)),n+=2;for(i.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,i.glyphIdArray=[];n<a+o;)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse6=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,a.firstCode=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse12=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var i=r.readUint(e,n);n+=4,a.groups=[];for(var o=0;o<i;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);a.groups.push([l,u,c])}return a},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var a=[],i=0;i<r.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,n){var r=t._bin,a=e._data,i=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(a,i),i+=2,o.xMin=r.readShort(a,i),i+=2,o.yMin=r.readShort(a,i),i+=2,o.xMax=r.readShort(a,i),i+=2,o.yMax=r.readShort(a,i),i+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(a,i)),i+=2;var l=r.readUshort(a,i);if(i+=2,a.length-i<l)return null;o.instructions=r.readBytes(a,i,l),i+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=a[i];if(i++,o.flags.push(c),8&c){var h=a[i];i++;for(var d=0;d<h;d++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var f=!!(2&o.flags[s]),p=!!(16&o.flags[s]);f?(o.xs.push(p?a[i]:-a[i]),i++):p?o.xs.push(0):(o.xs.push(r.readShort(a,i)),i+=2)}for(o.ys=[],s=0;s<u;s++)f=!!(4&o.flags[s]),p=!!(32&o.flags[s]),f?(o.ys.push(p?a[i]:-a[i]),i++):p?o.ys.push(0):(o.ys.push(r.readShort(a,i)),i+=2);var v=0,m=0;for(s=0;s<u;s++)v+=o.xs[s],m+=o.ys[s],o.xs[s]=v,o.ys[s]=m}else{var g;o.parts=[];do{g=r.readUshort(a,i),i+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(a,i),i+=2,1&g){var b=r.readShort(a,i);i+=2;var x=r.readShort(a,i);i+=2}else b=r.readInt8(a,i),i++,x=r.readInt8(a,i),i++;2&g?(y.m.tx=b,y.m.ty=x):(y.p1=b,y.p2=x),8&g?(y.m.a=y.m.d=r.readF2dot14(a,i),i+=2):64&g?(y.m.a=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2):128&g&&(y.m.a=r.readF2dot14(a,i),i+=2,y.m.b=r.readF2dot14(a,i),i+=2,y.m.c=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2)}while(32&g);if(256&g){var S=r.readUshort(a,i);for(i+=2,o.instr=[],s=0;s<S;s++)o.instr.push(a[i]),i++}}return o},t.GDEF={},t.GDEF.parse=function(e,n,r,a){var i=n;n+=4;var o=t._bin.readUshort(e,n);return{glyphClassDef:0===o?null:t._lctf.readClassDef(e,i+o)}},t.GPOS={},t.GPOS.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=i.readUshort(e,r);r+=2,0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=i.readUshort(e,r),r+=2;var c=i.readUshort(e,r);r+=2;var h=t._lctf.numOfOnes(u),d=t._lctf.numOfOnes(c);if(1==s.fmt){s.pairsets=[];var f=i.readUshort(e,r);r+=2;for(var p=0;p<f;p++){var v=o+i.readUshort(e,r);r+=2;var m=i.readUshort(e,v);v+=2;for(var g=[],y=0;y<m;y++){var b=i.readUshort(e,v);v+=2,0!=u&&(U=t.GPOS.readValueRecord(e,v,u),v+=2*h),0!=c&&(A=t.GPOS.readValueRecord(e,v,c),v+=2*d),g.push({gid2:b,val1:U,val2:A})}s.pairsets.push(g)}}if(2==s.fmt){var x=i.readUshort(e,r);r+=2;var S=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);r+=2;var T=i.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+x),s.classDef2=t._lctf.readClassDef(e,o+S),s.matrix=[],p=0;p<w;p++){var k=[];for(y=0;y<T;y++){var U=null,A=null;0!=u&&(U=t.GPOS.readValueRecord(e,r,u),r+=2*h),0!=c&&(A=t.GPOS.readValueRecord(e,r,c),r+=2*d),k.push({val1:U,val2:A})}s.matrix.push(k)}}}else if(4==n&&1==s.fmt)s.markCoverage=t._lctf.readCoverage(e,i.readUshort(e,r)+o),s.baseCoverage=t._lctf.readCoverage(e,i.readUshort(e,r+2)+o),s.markClassCount=i.readUshort(e,r+4),s.markArray=t.GPOS.readMarkArray(e,i.readUshort(e,r+6)+o),s.baseArray=t.GPOS.readBaseArray(e,i.readUshort(e,r+8)+o,s.markClassCount);else if(6==n&&1==s.fmt)s.mark1Coverage=t._lctf.readCoverage(e,i.readUshort(e,r)+o),s.mark2Coverage=t._lctf.readCoverage(e,i.readUshort(e,r+2)+o),s.markClassCount=i.readUshort(e,r+4),s.mark1Array=t.GPOS.readMarkArray(e,i.readUshort(e,r+6)+o),s.mark2Array=t.GPOS.readBaseArray(e,i.readUshort(e,r+8)+o,s.markClassCount);else if(9==n&&1==s.fmt){var C=i.readUshort(e,r);r+=2;var E=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=C;else if(a.ltype!=C)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+E)}return s},t.GPOS.readValueRecord=function(e,n,r){var a=t._bin,i=[];return i.push(1&r?a.readShort(e,n):0),n+=1&r?2:0,i.push(2&r?a.readShort(e,n):0),n+=2&r?2:0,i.push(4&r?a.readShort(e,n):0),n+=4&r?2:0,i.push(8&r?a.readShort(e,n):0),n+=8&r?2:0,i},t.GPOS.readBaseArray=function(e,n,r){var a=t._bin,i=[],o=n,s=a.readUshort(e,n);n+=2;for(var l=0;l<s;l++){for(var u=[],c=0;c<r;c++)u.push(t.GPOS.readAnchorRecord(e,o+a.readUshort(e,n))),n+=2;i.push(u)}return i},t.GPOS.readMarkArray=function(e,n){var r=t._bin,a=[],i=n,o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=t.GPOS.readAnchorRecord(e,r.readUshort(e,n+2)+i);l.markClass=r.readUshort(e,n),a.push(l),n+=4}return a},t.GPOS.readAnchorRecord=function(e,n){var r=t._bin,a={};return a.fmt=r.readUshort(e,n),a.x=r.readShort(e,n+2),a.y=r.readShort(e,n+4),a},t.GSUB={},t.GSUB.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1!=n&&2!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||2==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,r),r+=2;else if(2==s.fmt){var u=i.readUshort(e,r);r+=2,s.newg=i.readUshorts(e,r,u),r+=2*s.newg.length}}else if(2==n&&1==s.fmt){u=i.readUshort(e,r),r+=2,s.seqs=[];for(var c=0;c<u;c++){var h=i.readUshort(e,r)+o;r+=2;var d=i.readUshort(e,h);s.seqs.push(i.readUshorts(e,h+2,d))}}else if(4==n)for(s.vals=[],u=i.readUshort(e,r),r+=2,c=0;c<u;c++){var f=i.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+f))}else if(5==n&&2==s.fmt){if(2==s.fmt){var p=i.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+p),s.scset=[];var v=i.readUshort(e,r);for(r+=2,c=0;c<v;c++){var m=i.readUshort(e,r);r+=2,s.scset.push(0==m?null:t.GSUB.readSubClassSet(e,o+m))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=i.readUshort(e,r),r+=2;for(var g=[],y=0;y<u;y++)g.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*y)));r+=2*u,0==c&&(s.backCvg=g),1==c&&(s.inptCvg=g),2==c&&(s.ahedCvg=g)}u=i.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else if(7==n&&1==s.fmt){var b=i.readUshort(e,r);r+=2;var x=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=b;else if(a.ltype!=b)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+x)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,a=n,i=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,i.push(t.GSUB.readSubClassRule(e,a+l))}return i},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,a={},i=r(e,n),o=r(e,n+=2);n+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(r(e,n)),n+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),a},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var a=t._bin.readUshort,i=[],o=0;o<r;o++)i.push(a(e,n),a(e,n+2)),n+=4;return i},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,i.push(t.GSUB.readChainSubClassRule(e,a+l))}return i},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,a[i[o]]=r.readUshorts(e,n,s),n+=2*a[i[o]].length}return s=r.readUshort(e,n),n+=2,a.subst=r.readUshorts(e,n,2*s),n+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,i.push(t.GSUB.readLigature(e,a+l))}return i},t.GSUB.readLigature=function(e,n){var r=t._bin,a={chain:[]};a.nglyph=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=0;o<i-1;o++)a.chain.push(r.readUshort(e,n)),n+=2;return a},t.head={},t.head.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.fontRevision=a.readFixed(e,n),n+=4,a.readUint(e,n),n+=4,a.readUint(e,n),n+=4,i.flags=a.readUshort(e,n),n+=2,i.unitsPerEm=a.readUshort(e,n),n+=2,i.created=a.readUint64(e,n),n+=8,i.modified=a.readUint64(e,n),n+=8,i.xMin=a.readShort(e,n),n+=2,i.yMin=a.readShort(e,n),n+=2,i.xMax=a.readShort(e,n),n+=2,i.yMax=a.readShort(e,n),n+=2,i.macStyle=a.readUshort(e,n),n+=2,i.lowestRecPPEM=a.readUshort(e,n),n+=2,i.fontDirectionHint=a.readShort(e,n),n+=2,i.indexToLocFormat=a.readShort(e,n),n+=2,i.glyphDataFormat=a.readShort(e,n),n+=2,i},t.hhea={},t.hhea.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.ascender=a.readShort(e,n),n+=2,i.descender=a.readShort(e,n),n+=2,i.lineGap=a.readShort(e,n),n+=2,i.advanceWidthMax=a.readUshort(e,n),n+=2,i.minLeftSideBearing=a.readShort(e,n),n+=2,i.minRightSideBearing=a.readShort(e,n),n+=2,i.xMaxExtent=a.readShort(e,n),n+=2,i.caretSlopeRise=a.readShort(e,n),n+=2,i.caretSlopeRun=a.readShort(e,n),n+=2,i.caretOffset=a.readShort(e,n),n+=2,n+=8,i.metricDataFormat=a.readShort(e,n),n+=2,i.numberOfHMetrics=a.readUshort(e,n),n+=2,i},t.hmtx={},t.hmtx.parse=function(e,n,r,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<a.maxp.numGlyphs;u++)u<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,n),n+=2,l=i.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,a){var i=t._bin,o=i.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,a);var s=i.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=i.readUshort(e,n),n+=2;var c=i.readUshort(e,n);n+=2;var h=c>>>8;if(0!=(h&=15))throw"unknown kern table format: "+h;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,a){var i=t._bin;i.readFixed(e,n),n+=4;var o=i.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){i.readUint(e,n),n+=4;var u=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var a=t._bin,i=-1,o=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=a.readUshort(e,n);n+=2;var u=a.readUshort(e,n);n+=2;var c=a.readShort(e,n);n+=2,l!=i&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var h=r.rval[r.rval.length-1];h.glyph2.push(u),h.vals.push(c),i=l}return n},t.loca={},t.loca.parse=function(e,n,r,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,l=a.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(i.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(i.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var a=t._bin,i={},o=a.readUint(e,n);return n+=4,i.numGlyphs=a.readUshort(e,n),n+=2,65536==o&&(i.maxPoints=a.readUshort(e,n),n+=2,i.maxContours=a.readUshort(e,n),n+=2,i.maxCompositePoints=a.readUshort(e,n),n+=2,i.maxCompositeContours=a.readUshort(e,n),n+=2,i.maxZones=a.readUshort(e,n),n+=2,i.maxTwilightPoints=a.readUshort(e,n),n+=2,i.maxStorage=a.readUshort(e,n),n+=2,i.maxFunctionDefs=a.readUshort(e,n),n+=2,i.maxInstructionDefs=a.readUshort(e,n),n+=2,i.maxStackElements=a.readUshort(e,n),n+=2,i.maxSizeOfInstructions=a.readUshort(e,n),n+=2,i.maxComponentElements=a.readUshort(e,n),n+=2,i.maxComponentDepth=a.readUshort(e,n),n+=2),i},t.name={},t.name.parse=function(e,n,r){var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2,a.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var h=a.readUshort(e,n);n+=2;var d=a.readUshort(e,n);n+=2;var f=a.readUshort(e,n);n+=2;var p=a.readUshort(e,n);n+=2;var v=a.readUshort(e,n);n+=2;var m=a.readUshort(e,n);n+=2;var g,y=l[p],b=u+12*o+m;if(0==h)g=a.readUnicode(e,b,v/2);else if(3==h&&0==d)g=a.readUnicode(e,b,v/2);else if(0==d)g=a.readASCII(e,b,v);else if(1==d)g=a.readUnicode(e,b,v/2);else if(3==d)g=a.readUnicode(e,b,v/2);else{if(1!=h)throw"unknown encoding "+d+", platformID: "+h;g=a.readASCII(e,b,v)}var x="p"+h+","+f.toString(16);null==i[x]&&(i[x]={}),i[x][void 0!==y?y:p]=g,i[x]._lang=f}for(var S in i)if(null!=i[S].postScriptName&&1033==i[S]._lang)return i[S];for(var S in i)if(null!=i[S].postScriptName&&0==i[S]._lang)return i[S];for(var S in i)if(null!=i[S].postScriptName&&3084==i[S]._lang)return i[S];for(var S in i)if(null!=i[S].postScriptName)return i[S];for(var S in i){s=S;break}return i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var a=t._bin.readUshort(e,n);n+=2;var i={};if(0==a)t["OS/2"].version0(e,n,i);else if(1==a)t["OS/2"].version1(e,n,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,n,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,n,i)}return i},t["OS/2"].version0=function(e,n,r){var a=t._bin;return r.xAvgCharWidth=a.readShort(e,n),n+=2,r.usWeightClass=a.readUshort(e,n),n+=2,r.usWidthClass=a.readUshort(e,n),n+=2,r.fsType=a.readUshort(e,n),n+=2,r.ySubscriptXSize=a.readShort(e,n),n+=2,r.ySubscriptYSize=a.readShort(e,n),n+=2,r.ySubscriptXOffset=a.readShort(e,n),n+=2,r.ySubscriptYOffset=a.readShort(e,n),n+=2,r.ySuperscriptXSize=a.readShort(e,n),n+=2,r.ySuperscriptYSize=a.readShort(e,n),n+=2,r.ySuperscriptXOffset=a.readShort(e,n),n+=2,r.ySuperscriptYOffset=a.readShort(e,n),n+=2,r.yStrikeoutSize=a.readShort(e,n),n+=2,r.yStrikeoutPosition=a.readShort(e,n),n+=2,r.sFamilyClass=a.readShort(e,n),n+=2,r.panose=a.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=a.readUint(e,n),n+=4,r.ulUnicodeRange2=a.readUint(e,n),n+=4,r.ulUnicodeRange3=a.readUint(e,n),n+=4,r.ulUnicodeRange4=a.readUint(e,n),n+=4,r.achVendID=[a.readInt8(e,n),a.readInt8(e,n+1),a.readInt8(e,n+2),a.readInt8(e,n+3)],n+=4,r.fsSelection=a.readUshort(e,n),n+=2,r.usFirstCharIndex=a.readUshort(e,n),n+=2,r.usLastCharIndex=a.readUshort(e,n),n+=2,r.sTypoAscender=a.readShort(e,n),n+=2,r.sTypoDescender=a.readShort(e,n),n+=2,r.sTypoLineGap=a.readShort(e,n),n+=2,r.usWinAscent=a.readUshort(e,n),n+=2,r.usWinDescent=a.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var a=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=a.readUint(e,n),n+=4,r.ulCodePageRange2=a.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var a=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=a.readShort(e,n),n+=2,r.sCapHeight=a.readShort(e,n),n+=2,r.usDefault=a.readUshort(e,n),n+=2,r.usBreak=a.readUshort(e,n),n+=2,r.usMaxContext=a.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var a=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=a.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=a.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var a=t._bin,i={};return i.version=a.readFixed(e,n),n+=4,i.italicAngle=a.readFixed(e,n),n+=4,i.underlinePosition=a.readShort(e,n),n+=2,i.underlineThickness=a.readShort(e,n),n+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var a=n.tables[r];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return-1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var a=e.SVG.entries[n];return null==a?r:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[n]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],i,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var a=n.glyf[e];null==a&&(a=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,r):t.U._compoGlyph(a,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var a=0==r?0:e.endPts[r-1]+1,i=e.endPts[r],o=a;o<=i;o++){var s=o==a?i:o-1,l=o==i?a:o+1,u=1&e.flags[o],c=1&e.flags[s],h=1&e.flags[l],d=e.xs[o],f=e.ys[o];if(o==a)if(u){if(!c){t.U.P.moveTo(n,d,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+d)/2,(e.ys[s]+f)/2);u?c&&t.U.P.lineTo(n,d,f):h?t.U.P.qcurveTo(n,d,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,d,f,(d+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,n,i);for(var s=o.m,l=0;l<i.crds.length;l+=2){var u=i.crds[l],c=i.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<i.cmds.length;l++)r.cmds.push(i.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U._applySubs=function(e,n,r,a){for(var i=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var h=u[c],d=h.chain.length;if(!(d>i)){for(var f=!0,p=0,v=0;v<d;v++){for(;-1==e[n+p+(1+v)];)p++;h.chain[v]!=e[n+p+(1+v)]&&(f=!1)}if(f){for(e[n]=h.nglyph,v=0;v<d+p;v++)e[n+v+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var m=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[m+2],y=l.scset[g],b=0;b<y.length;b++){var x=y[b],S=x.input;if(!(S.length>i)){for(f=!0,v=0;v<S.length;v++){var w=t._lctf.getInterval(l.cDef,e[n+1+v]);if(-1==m&&l.cDef[w+2]!=S[v]){f=!1;break}}if(f){var T=x.substLookupRecords;for(c=0;c<T.length;c+=2)T[c],T[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var k=l.lookupRec;for(b=0;b<k.length;b+=2){m=k[b];var U=a[k[b+1]];t.U._applySubs(e,n+m,U,a)}}}},t.U._glsCovered=function(e,n,r){for(var a=0;a<n.length;a++)if(-1==t._lctf.coverageIndex(n[a],e[r+a]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var a={cmds:[],crds:[]},i=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)a.crds.push(u.crds[c]+i),a.crds.push(u.crds[c+1]);for(r&&a.cmds.push(r),c=0;c<u.cmds.length;c++)a.cmds.push(u.cmds[c]);r&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<n.length-1&&(i+=t.U.getPairAdjustment(e,s,l))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,a,i,o){e.cmds.push("C"),e.crds.push(t,n,r,a,i,o)},t.U.P.qcurveTo=function(e,t,n,r,a){e.cmds.push("Q"),e.crds.push(t,n,r,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,a,i){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,h=0,d=n.x,f=n.y,p=0,v=0,m=0,g=0,y=0,b=0,x=0,S=0,w=0,T=0,k={val:0,size:0};h<e.length;){t.CFF.getCharString(e,h,k);var U=k.val;if(h+=k.size,"o1"==U||"o18"==U)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==U||"o23"==U)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==U)o.length>1&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),c&&t.U.P.closePath(i),f+=o.pop(),t.U.P.moveTo(i,d,f),c=!0;else if("o5"==U)for(;o.length>0;)d+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,d,f);else if("o6"==U||"o7"==U)for(var A=o.length,C="o6"==U,E=0;E<A;E++){var _=o.shift();C?d+=_:f+=_,C=!C,t.U.P.lineTo(i,d,f)}else if("o8"==U||"o24"==U){A=o.length;for(var M=0;M+6<=A;)p=d+o.shift(),v=f+o.shift(),m=p+o.shift(),g=v+o.shift(),d=m+o.shift(),f=g+o.shift(),t.U.P.curveTo(i,p,v,m,g,d,f),M+=6;"o24"==U&&(d+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,d,f))}else{if("o11"==U)break;if("o1234"==U||"o1235"==U||"o1236"==U||"o1237"==U)"o1234"==U&&(v=f,m=(p=d+o.shift())+o.shift(),T=g=v+o.shift(),b=g,S=f,d=(x=(y=(w=m+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,v,m,g,w,T),t.U.P.curveTo(i,y,b,x,S,d,f)),"o1235"==U&&(p=d+o.shift(),v=f+o.shift(),m=p+o.shift(),g=v+o.shift(),w=m+o.shift(),T=g+o.shift(),y=w+o.shift(),b=T+o.shift(),x=y+o.shift(),S=b+o.shift(),d=x+o.shift(),f=S+o.shift(),o.shift(),t.U.P.curveTo(i,p,v,m,g,w,T),t.U.P.curveTo(i,y,b,x,S,d,f)),"o1236"==U&&(p=d+o.shift(),v=f+o.shift(),m=p+o.shift(),T=g=v+o.shift(),b=g,x=(y=(w=m+o.shift())+o.shift())+o.shift(),S=b+o.shift(),d=x+o.shift(),t.U.P.curveTo(i,p,v,m,g,w,T),t.U.P.curveTo(i,y,b,x,S,d,f)),"o1237"==U&&(p=d+o.shift(),v=f+o.shift(),m=p+o.shift(),g=v+o.shift(),w=m+o.shift(),T=g+o.shift(),y=w+o.shift(),b=T+o.shift(),x=y+o.shift(),S=b+o.shift(),Math.abs(x-d)>Math.abs(S-f)?d=x+o.shift():f=S+o.shift(),t.U.P.curveTo(i,p,v,m,g,w,T),t.U.P.curveTo(i,y,b,x,S,d,f));else if("o14"==U){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var P=o.shift(),F=o.shift(),D=o.shift(),O=o.shift(),R=t.CFF.glyphBySE(r,D),I=t.CFF.glyphBySE(r,O);t.U._drawCFF(r.CharStrings[R],n,r,a,i),n.x=P,n.y=F,t.U._drawCFF(r.CharStrings[I],n,r,a,i)}c&&(t.U.P.closePath(i),c=!1)}else if("o19"==U||"o20"==U)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,h+=s+7>>3;else if("o21"==U)o.length>2&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),f+=o.pop(),d+=o.pop(),c&&t.U.P.closePath(i),t.U.P.moveTo(i,d,f),c=!0;else if("o22"==U)o.length>1&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),d+=o.pop(),c&&t.U.P.closePath(i),t.U.P.moveTo(i,d,f),c=!0;else if("o25"==U){for(;o.length>6;)d+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,d,f);p=d+o.shift(),v=f+o.shift(),m=p+o.shift(),g=v+o.shift(),d=m+o.shift(),f=g+o.shift(),t.U.P.curveTo(i,p,v,m,g,d,f)}else if("o26"==U)for(o.length%2&&(d+=o.shift());o.length>0;)p=d,v=f+o.shift(),d=m=p+o.shift(),f=(g=v+o.shift())+o.shift(),t.U.P.curveTo(i,p,v,m,g,d,f);else if("o27"==U)for(o.length%2&&(f+=o.shift());o.length>0;)v=f,m=(p=d+o.shift())+o.shift(),g=v+o.shift(),d=m+o.shift(),f=g,t.U.P.curveTo(i,p,v,m,g,d,f);else if("o10"==U||"o29"==U){var L="o10"==U?a:r;if(0==o.length);else{var B=o.pop(),j=L.Subrs[B+L.Bias];n.x=d,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(j,n,r,a,i),d=n.x,f=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==U||"o31"==U){var G=o.length,V=(M=0,"o31"==U);for(M+=G-(A=-3&G);M<A;)V?(v=f,m=(p=d+o.shift())+o.shift(),f=(g=v+o.shift())+o.shift(),A-M==5?(d=m+o.shift(),M++):d=m,V=!1):(p=d,v=f+o.shift(),m=p+o.shift(),g=v+o.shift(),d=m+o.shift(),A-M==5?(f=g+o.shift(),M++):f=g,V=!0),t.U.P.curveTo(i,p,v,m,g,d,f),M+=4}else{if("o"==(U+"").charAt(0))throw U;o.push(U)}}}n.x=d,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new n(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new r(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},l=s(a,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var h=s(i,0)[0],d=new n(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var v=function(e,t,r){for(var a=e.length,i=0,o=new n(t);i<a;++i)++o[e[i]-1];var s,l=new n(t);for(i=0;i<t;++i)l[i]=l[i-1]+o[i-1]<<1;s=new n(1<<t);var u=15-t;for(i=0;i<a;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],f=l[e[i]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)s[d[f]>>>u]=c;return s},m=new t(288);for(f=0;f<144;++f)m[f]=8;for(f=144;f<256;++f)m[f]=9;for(f=256;f<280;++f)m[f]=7;for(f=280;f<288;++f)m[f]=8;var g=new t(32);for(f=0;f<32;++f)g[f]=5;var y=v(m,9),b=v(g,5),x=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},S=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},w=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],k=function(e,t,n){var r=new Error(t||T[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,k),!n)throw r;return r},U=new t(0),A="undefined"!=typeof TextDecoder&&new TextDecoder;try{A.decode(U,{stream:!0})}catch(C){}return e.convert_streams=function(e){var s=new DataView(e),l=0;function c(){var e=s.getUint16(l);return l+=2,e}function d(){var e=s.getUint32(l);return l+=4,e}function f(e){F.setUint16(D,e),D+=2}function p(e){F.setUint32(D,e),D+=4}for(var m={signature:d(),flavor:d(),length:d(),numTables:c(),reserved:c(),totalSfntSize:d(),majorVersion:c(),minorVersion:c(),metaOffset:d(),metaLength:d(),metaOrigLength:d(),privOffset:d(),privLength:d()},g=0;Math.pow(2,g)<=m.numTables;)g++;g--;for(var T=16*Math.pow(2,g),U=16*m.numTables-T,A=12,C=[],E=0;E<m.numTables;E++)C.push({tag:d(),offset:d(),compLength:d(),origLength:d(),origChecksum:d()}),A+=16;var _,M=new Uint8Array(12+16*C.length+C.reduce((function(e,t){return e+t.origLength+4}),0)),P=M.buffer,F=new DataView(P),D=0;return p(m.flavor),f(m.numTables),f(T),f(g),f(U),C.forEach((function(e){p(e.tag),p(e.origChecksum),p(A),p(e.origLength),e.outOffset=A,(A+=e.origLength)%4!=0&&(A+=4-A%4)})),C.forEach((function(s){var l=e.slice(s.offset,s.offset+s.compLength);if(s.compLength!=s.origLength){var c=new Uint8Array(s.origLength);!function(e,s,l){var c=e.length;if(!c||l&&!l.l&&c<5)return s||new t(0);var d=!s||l,f=!l||l.i;l||(l={}),s||(s=new t(3*c));var p,m=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},g=l.f||0,T=l.p||0,U=l.b||0,A=l.l,C=l.d,E=l.m,_=l.n,M=8*c;do{if(!A){l.f=g=S(e,T,1);var P=S(e,T+1,3);if(T+=3,!P){var F=e[(N=((p=T)/8|0)+(7&p&&1)+4)-4]|e[N-3]<<8,D=N+F;if(D>c){f&&k(0);break}d&&m(U+F),s.set(e.subarray(N,D),U),l.b=U+=F,l.p=T=8*D;continue}if(1==P)A=y,C=b,E=9,_=5;else if(2==P){var O=S(e,T,31)+257,R=S(e,T+10,15)+4,I=O+S(e,T+5,31)+1;T+=14;for(var L=new t(I),B=new t(19),j=0;j<R;++j)B[o[j]]=S(e,T+3*j,7);T+=3*R;var G=x(B),V=(1<<G)-1,z=v(B,G);for(j=0;j<I;){var N,W=z[S(e,T,V)];if(T+=15&W,(N=W>>>4)<16)L[j++]=N;else{var X=0,H=0;for(16==N?(H=3+S(e,T,3),T+=2,X=L[j-1]):17==N?(H=3+S(e,T,7),T+=3):18==N&&(H=11+S(e,T,127),T+=7);H--;)L[j++]=X}}var Y=L.subarray(0,O),q=L.subarray(O);E=x(Y),_=x(q),A=v(Y,E),C=v(q,_)}else k(1);if(T>M){f&&k(0);break}}d&&m(U+131072);for(var $=(1<<E)-1,K=(1<<_)-1,Z=T;;Z=T){var Q=(X=A[w(e,T)&$])>>>4;if((T+=15&X)>M){f&&k(0);break}if(X||k(2),Q<256)s[U++]=Q;else{if(256==Q){Z=T,A=null;break}var J=Q-254;if(Q>264){var ee=a[j=Q-257];J=S(e,T,(1<<ee)-1)+u[j],T+=ee}var te=C[w(e,T)&K],ne=te>>>4;if(te||k(3),T+=15&te,q=h[ne],ne>3&&(ee=i[ne],q+=w(e,T)&(1<<ee)-1,T+=ee),T>M){f&&k(0);break}d&&m(U+131072);for(var re=U+J;U<re;U+=4)s[U]=s[U-q],s[U+1]=s[U+1-q],s[U+2]=s[U+2-q],s[U+3]=s[U+3-q];U=re}}l.l=A,l.p=Z,l.b=U,A&&(g=1,l.m=E,l.d=C,l.n=_)}while(!g);U==s.length||function(e,a,i){(null==i||i>e.length)&&(i=e.length),new(e instanceof n?n:e instanceof r?r:t)(i-0).set(e.subarray(0,i))}(s,0,U)}(new Uint8Array(l,2),c)}else c=new Uint8Array(l);M.set(c,s.outOffset);var d=0;(A=s.outOffset+s.origLength)%4!=0&&(d=4-A%4),M.set(new Uint8Array(d).buffer,s.outOffset+s.origLength),_=A+d})),P.slice(0,_)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let a;function i(e){if(!a){const e={R:2,L:1,D:4,C:16,U:32,T:8};a=new Map;for(let t in r){let n=0;r[t].split(",").forEach((r=>{let[i,o]=r.split("+");i=parseInt(i,36),o=o?parseInt(o,36):0,a.set(n+=i,e[t]);for(let s=o;s--;)a.set(++n,e[t])}))}}return a.get(e)||32}const o=[null,"isol","init","fina","medi"];function s(e){const t=new Uint8Array(e.length);let n=32,r=1,a=-1;for(let o=0;o<e.length;o++){const s=e.codePointAt(o);let l=0|i(s),u=1;8&l||(21&n?22&l?(u=3,1!==r&&3!==r||t[a]++):33&l&&(2!==r&&4!==r||t[a]--):34&n&&(2!==r&&4!==r||t[a]--),r=t[o]=u,n=l,a=o,s>65535&&o++)}return t}function l(t,n){const r=t.GDEF&&t.GDEF.glyphClassDef;return r?e.U._getGlyphClass(n,r):0}function u(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}return function(r){const a=new Uint8Array(r,0,4),i=e._bin.readASCII(a,0,4);if("wOFF"===i)r=t(r);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return function(t){const r=Object.create(null),a=t["OS/2"],i=t.hhea,c=t.head.unitsPerEm,h=u(a&&a.sTypoAscender,i&&i.ascender,c),d={unitsPerEm:c,ascender:h,descender:u(a&&a.sTypoDescender,i&&i.descender,0),capHeight:u(a&&a.sCapHeight,h),xHeight:u(a&&a.sxHeight,h),lineGap:u(a&&a.sTypoLineGap,i&&i.lineGap),supportsCodePoint:n=>e.U.codeToGlyph(t,n)>0,forEachGlyph(a,i,u,c){let h=0;const f=1/d.unitsPerEm*i,p=function(t,n){const r=[];for(let i=0;i<n.length;i++){const a=n.codePointAt(i);a>65535&&i++,r.push(e.U.codeToGlyph(t,a))}const a=t.GSUB;if(a){const{lookupList:t,featureList:i}=a;let l;const u=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,c=[];i.forEach((a=>{if(u.test(a.tag))for(let i=0;i<a.tab.length;i++){if(c[a.tab[i]])continue;c[a.tab[i]]=!0;const u=t[a.tab[i]],h=/^(isol|init|fina|medi)$/.test(a.tag);h&&!l&&(l=s(n));for(let n=0;n<r.length;n++)l&&h&&o[l[n]]!==a.tag||e.U._applySubs(r,n,u,t)}}))}return r}(t,a);let v=0;const m=function(t,n){const r=new Int16Array(3*n.length);let a=0;for(;a<n.length;a++){const u=n[a];if(-1===u)continue;r[3*a+2]=t.hmtx.aWidth[u];const c=t.GPOS;if(c){const h=c.lookupList;for(let c=0;c<h.length;c++){const d=h[c];for(let c=0;c<d.tabs.length;c++){const h=d.tabs[c];if(1===d.ltype){if(-1!==e._lctf.coverageIndex(h.coverage,u)&&h.pos){s(h.pos,a);break}}else if(2===d.ltype){let t=null,r=i();if(-1!==r){const i=e._lctf.coverageIndex(h.coverage,n[r]);if(-1!==i){if(1===h.fmt){const e=h.pairsets[i];for(let n=0;n<e.length;n++)e[n].gid2===u&&(t=e[n])}else if(2===h.fmt){const a=e.U._getGlyphClass(n[r],h.classDef1),i=e.U._getGlyphClass(u,h.classDef2);t=h.matrix[a][i]}if(t){t.val1&&s(t.val1,r),t.val2&&s(t.val2,a);break}}}}else if(4===d.ltype){const t=e._lctf.coverageIndex(h.markCoverage,u);if(-1!==t){const s=i(o),l=-1===s?-1:e._lctf.coverageIndex(h.baseCoverage,n[s]);if(-1!==l){const e=h.markArray[t],n=h.baseArray[l][e.markClass];r[3*a]=n.x-e.x+r[3*s]-r[3*s+2],r[3*a+1]=n.y-e.y+r[3*s+1];break}}}else if(6===d.ltype){const o=e._lctf.coverageIndex(h.mark1Coverage,u);if(-1!==o){const s=i();if(-1!==s){const i=n[s];if(3===l(t,i)){const t=e._lctf.coverageIndex(h.mark2Coverage,i);if(-1!==t){const e=h.mark1Array[o],n=h.mark2Array[t][e.markClass];r[3*a]=n.x-e.x+r[3*s]-r[3*s+2],r[3*a+1]=n.y-e.y+r[3*s+1];break}}}}}}}}else if(t.kern&&!t.cff){const e=i();if(-1!==e){const a=t.kern.glyph1.indexOf(n[e]);if(-1!==a){const n=t.kern.rval[a].glyph2.indexOf(u);-1!==n&&(r[3*e+2]+=t.kern.rval[a].vals[n])}}}}return r;function i(e){for(let t=a-1;t>=0;t--)if(-1!==n[t]&&(!e||e(n[t])))return t;return-1}function o(e){return 1===l(t,e)}function s(e,t){for(let n=0;n<3;n++)r[3*t+n]+=e[n]||0}}(t,p);return p.forEach(((o,s)=>{if(-1!==o){let a=r[o];if(!a){const{cmds:i,crds:s}=e.U.glyphToPath(t,o);let l,u,c,h,d="",f=0;for(let e=0,t=i.length;e<t;e++){const t=n[i[e]];d+=i[e];for(let e=1;e<=t;e++)d+=(e>1?",":"")+s[f++]}if(s.length){l=u=1/0,c=h=-1/0;for(let e=0,t=s.length;e<t;e+=2){let t=s[e],n=s[e+1];t<l&&(l=t),n<u&&(u=n),t>c&&(c=t),n>h&&(h=n)}}else l=c=u=h=0;a=r[o]={index:o,advanceWidth:t.hmtx.aWidth[o],xMin:l,yMin:u,xMax:c,yMax:h,path:d}}c.call(null,a,h+m[3*s]*f,m[3*s+1]*f,v),h+=m[3*s+2]*f,u&&(h+=u*i)}v+=a.codePointAt(v)>65535?2:1})),h}};return d}(e.parse(r)[0])}}],init:(e,t,n)=>n(e(),t())}),function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&!!(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,n){e.push((+n).toString(36)+":"+t.toString(36))})),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach((function(e){var n=e.split(":");t.buckets.set(parseInt(n[0],36),parseInt(n[1],36))}))};var n=Math.pow(2,8),r=n-1,a=~r;function i(e,t){var n=e&r,a=t.codePointAt(n/6|0);return!!((a=(a||48)-48)&1<<n%6)}function o(e,t){!function(e,t){var n;(n=e,n.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var n=e[0],r=e[1];void 0===r&&(r=n),t(n,r)}))}(e,(function(e,n){for(var r=e;r<=n;r++)t(r)}))}var s={},l={},u=new WeakMap,c="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(e){var n=u.get(e);return n||(n=new t,o(e.ranges,(function(e){return n.add(e)})),u.set(e,n)),n}var d,f=new Map;function p(e,t,n){return e[t]?t:e[n]?n:function(e){for(var t in e)return t}(e)}function v(e,t){var n=t;if(!e.includes(n)){n=1/0;for(var r=0;r<e.length;r++)Math.abs(e[r]-t)<Math.abs(n-t)&&(n=e[r])}return n}function m(e){return d||(d=new Set,o("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(e){d.add(e)}))),d.has(e)}return e.CodePointSet=t,e.clearCache=function(){s={},l={}},e.getFontsForString=function(e,t){void 0===t&&(t={});var r,o=t.lang;void 0===o&&(o=new RegExp("\\p{Script=Hangul}","u").test(r=e)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(r)?"ja":"en");var u=t.category;void 0===u&&(u="sans-serif");var d=t.style;void 0===d&&(d="normal");var g=t.weight;void 0===g&&(g=400);var y=(t.dataUrl||c).replace(/\/$/g,""),b=new Map,x=new Uint8Array(e.length),S={},w={},T=new Array(e.length),k=new Map,U=!1;function A(e){var t=f.get(e);return t||(t=fetch(y+"/"+e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||1!==e[0])throw new Error("Incorrect schema version; need 1, got "+e[0]);return e[1]}))})).catch((function(t){if(y!==c)return U||(U=!0),y=c,f.delete(e),A(e);throw t})),f.set(e,t)),t}for(var C=function(t){var r=e.codePointAt(t),i=function(e){var t,r=(t=e,t&a).toString(16),i=function(e){return(e&a)+n-1}(e).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+r+"-"+i+".json"}(r);T[t]=i,s[i]||k.has(i)||k.set(i,A(i).then((function(e){s[i]=e}))),r>65535&&(t++,E=t)},E=0;E<e.length;E++)C(E);return Promise.all(k.values()).then((function(){k.clear();for(var t=function(t){var r=e.codePointAt(t),a=null,u=s[T[t]],c=void 0;for(var h in u){var d=w[h];if(void 0===d&&(d=w[h]=new RegExp(h).test(o||"en")),d){for(var f in c=h,u[h])if(i(r,u[h][f])){a=f;break}break}}if(!a)e:for(var p in u)if(p!==c)for(var v in u[p])if(i(r,u[p][v])){a=v;break e}a||(a="latin"),T[t]=a,l[a]||k.has(a)||k.set(a,A("font-meta/"+a+".json").then((function(e){l[a]=e}))),r>65535&&(t++,n=t)},n=0;n<e.length;n++)t(n);return Promise.all(k.values())})).then((function(){for(var t,n=null,r=0;r<e.length;r++){var a=e.codePointAt(r);if(n&&(m(a)||h(n).has(a)))x[r]=x[r-1];else{n=l[T[r]];var i=S[n.id];if(!i){var o=n.typeforms,s=p(o,u,"sans-serif"),c=p(o[s],d,"normal"),f=v(null===(t=o[s])||void 0===t?void 0:t[c],g);i=S[n.id]=y+"/font-files/"+n.id+"/"+s+"."+c+"."+f+".woff"}var w=b.get(i);null==w&&(w=b.size,b.set(i,w)),x[r]=w}a>65535&&(r++,x[r]=x[r-1])}return{fontUrls:Array.from(b.keys()),chars:x}}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())}),ye=()=>(self.performance||Date).now(),be=re();let xe;const Se=[];let we=0;function Te(){const e=ye();for(;Se.length&&ye()-e<5;)Se.shift()();we=Se.length?setTimeout(Te,0):0}const ke={};let Ue=0;function Ae(e,t,n,r,a,i,o,s,l,u){const c="TroikaTextSDFGenerator_JS_"+Ue++%4;let h=ke[c];return h||(h=ke[c]={workerModule:ee({name:c,workerId:c,dependencies:[re,ye],init(e,t){const n=e().javascript.generate;return function(...e){const r=t();return{textureData:n(...e),timing:t()-r}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(e,t,n,r,a,i).then((({textureData:n,timing:r})=>{const a=ye(),i=new Uint8Array(4*n.length);for(let e=0;e<n.length;e++)i[4*e+u]=n[e];return be.webglUtils.renderImageData(o,i,s,l,e,t,1<<3-u),r+=ye()-a,0==--h.requests&&(h.idleTimer=setTimeout((()=>{!function(e){Q[e]&&Q[e].forEach((function(e){e()})),Z[e]&&(Z[e].terminate(),delete Z[e])}(c)}),2e3)),{timing:r}}))}const Ce=be.webglUtils.resizeWebGLCanvasWithoutClearing,Ee={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},_e=new T;function Me(){return(self.performance||Date).now()}const Pe=Object.create(null);function Fe(e,t){e=function(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e);const n=Me(),r=[];if(e.font&&r.push({label:"user",src:(a=e.font,Oe||(Oe="undefined"==typeof document?{}:document.createElement("a")),Oe.href=a,Oe.href)}),e.font=r,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||Ee.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||Ee.unicodeFontsURL,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=_e.set(r).getHex()),t[n]=r}e.colorRanges=t}var a;Object.freeze(e);const{textureWidth:i,sdfExponent:o}=Ee,{sdfGlyphSize:s}=e,l=i/s*4;let u=Pe[s];if(!u){const e=document.createElement("canvas");e.width=i,e.height=256*s/l,u=Pe[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:e,sdfTexture:new k(e,void 0,void 0,void 0,U,U),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",(t=>{t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(t=>{e.contextLost=!1;const n=[];e.glyphsByFont.forEach((t=>{t.forEach((t=>{n.push(De(t,e,!0))}))})),Promise.all(n).then((()=>{Re(e),e.sdfTexture.needsUpdate=!0}))}))}(u)}const{sdfTexture:c,sdfCanvas:h}=u;Ie(e).then((r=>{const{glyphIds:a,glyphFontIndices:d,fontData:f,glyphPositions:p,fontSize:v,timings:m}=r,g=[],y=new Float32Array(4*a.length);let b=0,x=0;const S=Me(),w=f.map((e=>{let t=u.glyphsByFont.get(e.src);return t||u.glyphsByFont.set(e.src,t=new Map),t}));a.forEach(((e,t)=>{const n=d[t],{src:i,unitsPerEm:o}=f[n];let l=w[n].get(e);if(!l){const{path:t,pathBounds:a}=r.glyphData[i][e],o=Math.max(a[2]-a[0],a[3]-a[1])/s*(Ee.sdfMargin*s+.5),c=u.glyphCount++,h=[a[0]-o,a[1]-o,a[2]+o,a[3]+o];w[n].set(e,l={path:t,atlasIndex:c,sdfViewBox:h}),g.push(l)}const{sdfViewBox:c}=l,h=p[x++],m=p[x++],S=v/o;y[b++]=h+c[0]*S,y[b++]=m+c[1]*S,y[b++]=h+c[2]*S,y[b++]=m+c[3]*S,a[t]=l.atlasIndex})),m.quads=(m.quads||0)+(Me()-S);const T=Me();m.sdf={};const k=h.height,U=Math.ceil(u.glyphCount/l),A=Math.pow(2,Math.ceil(Math.log2(U*s)));A>k&&(Ce(h,i,A),c.dispose()),Promise.all(g.map((t=>De(t,u,e.gpuAccelerateSDF).then((({timing:e})=>{m.sdf[t.atlasIndex]=e}))))).then((()=>{g.length&&!u.contextLost&&(Re(u),c.needsUpdate=!0),m.sdfTotal=Me()-T,m.total=Me()-n,t(Object.freeze({parameters:e,sdfTexture:c,sdfGlyphSize:s,sdfExponent:o,glyphBounds:y,glyphAtlasIndices:a,glyphColors:r.glyphColors,caretPositions:r.caretPositions,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,capHeight:r.capHeight,xHeight:r.xHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings}))}))})),Promise.resolve().then((()=>{var e;u.contextLost||(e=h)._warm||(be.webgl.isSupported(e),e._warm=!0)}))}function De({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:a,contextLost:i},o){if(i)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=Ee,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(t/4);return function(e,t,n,r,a,i,o,s,l,u,c=!0){return c?((...e)=>new Promise(((t,n)=>{Se.push((()=>{const r=ye();try{be.webgl.generateIntoCanvas(...e),t({timing:ye()-r})}catch(a){n(a)}})),we||(we=setTimeout(Te,0))})))(e,t,n,r,a,i,o,s,l,u).then(null,(c=>(xe||(xe=!0),Ae(e,t,n,r,a,i,o,s,l,u)))):Ae(e,t,n,r,a,i,o,s,l,u)}(r,r,e,n,u,l,a,c%(s/r)*r,Math.floor(c/(s/r))*r,t%4,o)}let Oe;function Re(e){if("function"!=typeof createImageBitmap){const{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:a}=t,i=e.sdfCanvas.getContext("webgl");let o=n.image.data;o&&o.length===r*a*4||(o=new Uint8Array(r*a*4),n.image={width:r,height:a,data:o},n.flipY=!1,n.isDataTexture=!0),i.readPixels(0,0,r,a,i.RGBA,i.UNSIGNED_BYTE,o)}}const Ie=ee({name:"Typesetter",dependencies:[ee({name:"Typesetter",dependencies:[function(e,t){const n=1/0,r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",i=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:o="",font:h,lang:d,sdfGlyphSize:f=64,fontSize:p=400,fontWeight:v=1,fontStyle:m="normal",letterSpacing:g=0,lineHeight:y="normal",maxWidth:b=n,direction:x,textAlign:S="left",textIndent:w=0,whiteSpace:T="normal",overflowWrap:k="normal",anchorX:U=0,anchorY:A=0,metricsOnly:C=!1,unicodeFontsURL:E,preResolvedFonts:_=null,includeCaretPositions:M=!1,chunkedBoundsSize:P=8192,colorRanges:F=null},D){const O=u(),R={fontLoad:0,typesetting:0};o.indexOf("\r")>-1&&(o=o.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),p=+p,g=+g,b=+b,y=y||"normal",w=+w,function({text:t,lang:n,fonts:r,style:a,weight:i,preResolvedFonts:o,unicodeFontsURL:s},l){const u=({chars:e,fonts:t})=>{let n,r;const a=[];for(let i=0;i<e.length;i++)e[i]!==r?(r=e[i],a.push(n={start:i,end:i,fontObj:t[e[i]]})):n.end=i;l(a)};o?u(o):e(t,u,{lang:n,fonts:r,style:a,weight:i,unicodeFontsURL:s})}({text:o,lang:d,style:m,weight:v,fonts:"string"==typeof h?[{src:h}]:h,unicodeFontsURL:E,preResolvedFonts:_},(e=>{R.fontLoad=u()-O;const h=isFinite(b);let d=null,f=null,v=null,m=null,E=null,_=null,I=null,L=null,B=0,j=0,G="nowrap"!==T;const V=new Map,z=u();let N=w,W=0,X=new c;const H=[X];e.forEach((e=>{const{fontObj:t}=e,{ascender:n,descender:s,unitsPerEm:l,lineGap:u,capHeight:d,xHeight:f}=t;let v=V.get(t);if(!v){const e=p/l,r="normal"===y?(n-s+u)*e:y*p,a=(r-(n-s)*e)/2,i=Math.min(r,(n-s)*e),o=(n+s)/2*e+i/2;v={index:V.size,src:t.src,fontObj:t,fontSizeMult:e,unitsPerEm:l,ascender:n*e,descender:s*e,capHeight:d*e,xHeight:f*e,lineHeight:r,baseline:-a-n*e,caretTop:o,caretBottom:o-i},V.set(t,v)}const{fontSizeMult:m}=v,x=o.slice(e.start,e.end+1);let S,T;t.forEachGlyph(x,p,g,((t,n,s,l)=>{n+=W,l+=e.start,S=n,T=t;const u=o.charAt(l),d=t.advanceWidth*m,f=X.count;let y;if("isEmpty"in t||(t.isWhitespace=!!u&&new RegExp(a).test(u),t.canBreakAfter=!!u&&i.test(u),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||r.test(u)),t.isWhitespace||t.isEmpty||j++,G&&h&&!t.isWhitespace&&n+d+N>b&&f){if(X.glyphAt(f-1).glyphObj.canBreakAfter)y=new c,N=-n;else for(let e=f;e--;){if(0===e&&"break-word"===k){y=new c,N=-n;break}if(X.glyphAt(e).glyphObj.canBreakAfter){y=X.splitAt(e+1);const t=y.glyphAt(0).x;N-=t;for(let e=y.count;e--;)y.glyphAt(e).x-=t;break}}y&&(X.isSoftWrapped=!0,X=y,H.push(X),B=b)}let x=X.glyphAt(X.count);x.glyphObj=t,x.x=n+N,x.y=s,x.width=d,x.charIndex=l,x.fontData=v,"\n"===u&&(X=new c,H.push(X),N=-(n+d+g*p)+w)})),W=S+T.advanceWidth*m+g*p}));let Y=0;H.forEach((e=>{let t=!0;for(let n=e.count;n--;){const r=e.glyphAt(n);t&&!r.glyphObj.isWhitespace&&(e.width=r.x+r.width,e.width>B&&(B=e.width),t=!1);let{lineHeight:a,capHeight:i,xHeight:o,baseline:s}=r.fontData;a>e.lineHeight&&(e.lineHeight=a);const l=s-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+i),e.ex=Math.max(e.ex,e.baseline+o)}e.baseline-=Y,e.cap-=Y,e.ex-=Y,Y+=e.lineHeight}));let q=0,$=0;if(U&&("number"==typeof U?q=-U:"string"==typeof U&&(q=-B*("left"===U?0:"center"===U?.5:"right"===U?1:s(U)))),A&&("number"==typeof A?$=-A:"string"==typeof A&&($="top"===A?0:"top-baseline"===A?-H[0].baseline:"top-cap"===A?-H[0].cap:"top-ex"===A?-H[0].ex:"middle"===A?Y/2:"bottom"===A?Y:"bottom-baseline"===A?-H[H.length-1].baseline:s(A)*Y)),!C){const e=t.getEmbeddingLevels(o,x);d=new Uint16Array(j),f=new Uint8Array(j),v=new Float32Array(2*j),m={},I=[n,n,-1/0,-1/0],L=[],M&&(_=new Float32Array(4*o.length)),F&&(E=new Uint8Array(3*j));let r,a,i=0,s=-1,u=-1;if(H.forEach(((c,h)=>{let{count:p,width:g}=c;if(p>0){let h=0;for(let e=p;e--&&c.glyphAt(e).glyphObj.isWhitespace;)h++;let y=0,b=0;if("center"===S)y=(B-g)/2;else if("right"===S)y=B-g;else if("justify"===S&&c.isSoftWrapped){let e=0;for(let t=p-h;t--;)c.glyphAt(t).glyphObj.isWhitespace&&e++;b=(B-g)/e}if(b||y){let e=0;for(let t=0;t<p;t++){let n=c.glyphAt(t);const r=n.glyphObj;n.x+=y+e,0!==b&&r.isWhitespace&&t<p-h&&(e+=b,n.width+=b)}}const x=t.getReorderSegments(o,e,c.glyphAt(0).charIndex,c.glyphAt(c.count-1).charIndex);for(let e=0;e<x.length;e++){const[t,n]=x[e];let r=1/0,a=-1/0;for(let e=0;e<p;e++)if(c.glyphAt(e).charIndex>=t){let t=e,i=e;for(;i<p;i++){let e=c.glyphAt(i);if(e.charIndex>n)break;i<p-h&&(r=Math.min(r,e.x),a=Math.max(a,e.x+e.width))}for(let e=t;e<i;e++){const t=c.glyphAt(e);t.x=a-(t.x+t.width-r)}break}}let w;const T=e=>w=e;for(let g=0;g<p;g++){const h=c.glyphAt(g);w=h.glyphObj;const p=w.index,y=1&e.levels[h.charIndex];if(y){const e=t.getMirroredCharacter(o[h.charIndex]);e&&h.fontData.fontObj.forEachGlyph(e,0,0,T)}if(M){const{charIndex:e,fontData:t}=h,n=h.x+q,r=h.x+h.width+q;_[4*e]=y?r:n,_[4*e+1]=y?n:r,_[4*e+2]=c.baseline+t.caretBottom+$,_[4*e+3]=c.baseline+t.caretTop+$;const a=e-s;a>1&&l(_,s,a),s=e}if(F){const{charIndex:e}=h;for(;e>u;)u++,F.hasOwnProperty(u)&&(a=F[u])}if(!w.isWhitespace&&!w.isEmpty){const e=i++,{fontSizeMult:t,src:o,index:s}=h.fontData,l=m[o]||(m[o]={});l[p]||(l[p]={path:w.path,pathBounds:[w.xMin,w.yMin,w.xMax,w.yMax]});const u=h.x+q,g=h.y+c.baseline+$;v[2*e]=u,v[2*e+1]=g;const y=u+w.xMin*t,b=g+w.yMin*t,x=u+w.xMax*t,S=g+w.yMax*t;y<I[0]&&(I[0]=y),b<I[1]&&(I[1]=b),x>I[2]&&(I[2]=x),S>I[3]&&(I[3]=S),e%P==0&&(r={start:e,end:e,rect:[n,n,-1/0,-1/0]},L.push(r)),r.end++;const T=r.rect;if(y<T[0]&&(T[0]=y),b<T[1]&&(T[1]=b),x>T[2]&&(T[2]=x),S>T[3]&&(T[3]=S),d[e]=p,f[e]=s,F){const t=3*e;E[t]=a>>16&255,E[t+1]=a>>8&255,E[t+2]=255&a}}}}})),_){const e=o.length-s;e>1&&l(_,s,e)}}const K=[];V.forEach((({index:e,src:t,unitsPerEm:n,ascender:r,descender:a,lineHeight:i,capHeight:o,xHeight:s})=>{K[e]={src:t,unitsPerEm:n,ascender:r,descender:a,lineHeight:i,capHeight:o,xHeight:s}})),R.typesetting=u()-z,D({glyphIds:d,glyphFontIndices:f,glyphPositions:v,glyphData:m,fontData:K,caretPositions:_,glyphColors:E,chunkedBounds:L,fontSize:p,topBaseline:$+H[0].baseline,blockBounds:[q,$-Y,q+B,$],visibleBounds:I,timings:R})}))}function s(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(e,t,n){const r=e[4*t],a=e[4*t+1],i=e[4*t+2],o=e[4*t+3],s=(a-r)/n;for(let l=0;l<n;l++){const n=4*(t+l);e[n]=r+s*l,e[n+1]=r+s*(l+1),e[n+2]=i,e[n+3]=o}}function u(){return(self.performance||Date).now()}function c(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return c.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(e){let t=c.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new c;return t.data=this.data.splice(e*h.length),t}},c.flyweight=h.reduce(((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*h.length+n]},set(e){this.data[this.index*h.length+n]=e}}),e)),{data:null,index:0}),{typeset:o,measure:function(e,t){o({...e,metricsOnly:!0},(e=>{const[n,r,a,i]=e.blockBounds;t({width:a-n,height:i-r})}))}}},ge,function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var a,i,o,s=n.LRI|n.RLI|n.FSI,l=n.L|n.R|n.AL,u=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,c=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,h=n.S|n.WS|n.B|s|n.PDI|c,d=null;function f(e){return function(){if(!d){d=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var a=t.split("+"),i=a[0],o=a[1];i=parseInt(i,36),o=o?parseInt(o,36):0,d.set(r+=i,n[e]);for(var s=0;s<o;s++)d.set(++r,n[e])}))}};for(var r in t)e(r)}}(),d.get(e.codePointAt(0))||n.L}function p(e,t){var n,r=0,a=new Map,i=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),a.set(u,c),t&&i.set(c,u)}})),{map:a,reverseMap:i}}function v(){if(!a){var e=p("14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",!0),t=e.map,n=e.reverseMap;a=t,i=n,o=p("6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye",!1).map}}function m(e){return v(),a.get(e)||null}function g(e){return v(),i.get(e)||null}function y(e){return v(),o.get(e)||null}var b,x=n.L,S=n.R,w=n.EN,T=n.ES,k=n.ET,U=n.AN,A=n.CS,C=n.B,E=n.S,_=n.ON,M=n.BN,P=n.NSM,F=n.AL,D=n.LRO,O=n.RLO,R=n.LRE,I=n.RLE,L=n.PDF,B=n.LRI,j=n.RLI,G=n.FSI,V=n.PDI;function z(e){return function(){if(!b){var e=p("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),b=t}}(),b.get(e)||null}function N(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);var i=[];return t.paragraphs.forEach((function(a){var o=Math.max(n,a.start),s=Math.min(r,a.end);if(o<s){for(var l=t.levels.slice(o,s+1),u=s;u>=o&&f(e[u])&h;u--)l[u]=a.level;for(var c=a.level,d=1/0,p=0;p<l.length;p++){var v=l[p];v>c&&(c=v),v<d&&(d=1|v)}for(var m=c;m>=d;m--)for(var g=0;g<l.length;g++)if(l[g]>=m){for(var y=g;g+1<l.length&&l[g+1]>=m;)g++;g>y&&i.push([y+o,g+o])}}})),i}function W(e,t,n,r){for(var a=N(e,t,n,r),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach((function(e){for(var t=e[0],n=e[1],r=i.slice(t,n+1),a=r.length;a--;)i[n-a]=r[a]})),i}return e.closingToOpeningBracket=g,e.getBidiCharType=f,e.getBidiCharTypeName=function(e){return r[f(e)]},e.getCanonicalBracket=y,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=f(e[r]);var a=new Map;function i(e,t){var r=n[e];n[e]=t,a.set(r,a.get(r)-1),r&u&&a.set(u,a.get(u)-1),a.set(t,(a.get(t)||0)+1),t&u&&a.set(u,(a.get(u)||0)+1)}for(var o=new Uint8Array(e.length),d=new Map,p=[],v=null,b=0;b<e.length;b++)v||p.push(v={start:b,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Vt(b,!1)}),n[b]&C&&(v.end=b,v=null);for(var z=I|R|O|D|s|V|L|C,N=function(e){return e+(1&e?1:2)},W=function(e){return e+(1&e?2:1)},X=0;X<p.length;X++){var H=[{_level:(v=p[X]).level,_override:0,_isolate:0}],Y=void 0,q=0,$=0,K=0;a.clear();for(var Z=v.start;Z<=v.end;Z++){var Q=n[Z];if(Y=H[H.length-1],a.set(Q,(a.get(Q)||0)+1),Q&u&&a.set(u,(a.get(u)||0)+1),Q&z)if(Q&(I|R)){o[Z]=Y._level;var J=(Q===I?W:N)(Y._level);J<=125&&!q&&!$?H.push({_level:J,_override:0,_isolate:0}):q||$++}else if(Q&(O|D)){o[Z]=Y._level;var ee=(Q===O?W:N)(Y._level);ee<=125&&!q&&!$?H.push({_level:ee,_override:Q&O?S:x,_isolate:0}):q||$++}else if(Q&s){Q&G&&(Q=1===Vt(Z+1,!0)?j:B),o[Z]=Y._level,Y._override&&i(Z,Y._override);var te=(Q===j?W:N)(Y._level);te<=125&&0===q&&0===$?(K++,H.push({_level:te,_override:0,_isolate:1,_isolInitIndex:Z})):q++}else if(Q&V){if(q>0)q--;else if(K>0){for($=0;!H[H.length-1]._isolate;)H.pop();var ne=H[H.length-1]._isolInitIndex;null!=ne&&(d.set(ne,Z),d.set(Z,ne)),H.pop(),K--}Y=H[H.length-1],o[Z]=Y._level,Y._override&&i(Z,Y._override)}else Q&L?(0===q&&($>0?$--:!Y._isolate&&H.length>1&&(H.pop(),Y=H[H.length-1])),o[Z]=Y._level):Q&C&&(o[Z]=v.level);else o[Z]=Y._level,Y._override&&Q!==M&&i(Z,Y._override)}for(var re=[],ae=null,ie=v.start;ie<=v.end;ie++){var oe=n[ie];if(!(oe&c)){var se=o[ie],le=oe&s,ue=oe===V;ae&&se===ae._level?(ae._end=ie,ae._endsWithIsolInit=le):re.push(ae={_start:ie,_end:ie,_level:se,_startsWithPDI:ue,_endsWithIsolInit:le})}}for(var ce=[],he=0;he<re.length;he++){var de=re[he];if(!de._startsWithPDI||de._startsWithPDI&&!d.has(de._start)){for(var fe=[ae=de],pe=void 0;ae&&ae._endsWithIsolInit&&null!=(pe=d.get(ae._end));)for(var ve=he+1;ve<re.length;ve++)if(re[ve]._start===pe){fe.push(ae=re[ve]);break}for(var me=[],ge=0;ge<fe.length;ge++)for(var ye=fe[ge],be=ye._start;be<=ye._end;be++)me.push(be);for(var xe=o[me[0]],Se=v.level,we=me[0]-1;we>=0;we--)if(!(n[we]&c)){Se=o[we];break}var Te=me[me.length-1],ke=o[Te],Ue=v.level;if(!(n[Te]&s))for(var Ae=Te+1;Ae<=v.end;Ae++)if(!(n[Ae]&c)){Ue=o[Ae];break}ce.push({_seqIndices:me,_sosType:Math.max(Se,xe)%2?S:x,_eosType:Math.max(Ue,ke)%2?S:x})}}for(var Ce=0;Ce<ce.length;Ce++){var Ee=ce[Ce],_e=Ee._seqIndices,Me=Ee._sosType,Pe=Ee._eosType,Fe=1&o[_e[0]]?S:x;if(a.get(P))for(var De=0;De<_e.length;De++){var Oe=_e[De];if(n[Oe]&P){for(var Re=Me,Ie=De-1;Ie>=0;Ie--)if(!(n[_e[Ie]]&c)){Re=n[_e[Ie]];break}i(Oe,Re&(s|V)?_:Re)}}if(a.get(w))for(var Le=0;Le<_e.length;Le++){var Be=_e[Le];if(n[Be]&w)for(var je=Le-1;je>=-1;je--){var Ge=-1===je?Me:n[_e[je]];if(Ge&l){Ge===F&&i(Be,U);break}}}if(a.get(F))for(var Ve=0;Ve<_e.length;Ve++){var ze=_e[Ve];n[ze]&F&&i(ze,S)}if(a.get(T)||a.get(A))for(var Ne=1;Ne<_e.length-1;Ne++){var We=_e[Ne];if(n[We]&(T|A)){for(var Xe=0,He=0,Ye=Ne-1;Ye>=0&&(Xe=n[_e[Ye]])&c;Ye--);for(var qe=Ne+1;qe<_e.length&&(He=n[_e[qe]])&c;qe++);Xe===He&&(n[We]===T?Xe===w:Xe&(w|U))&&i(We,Xe)}}if(a.get(w))for(var $e=0;$e<_e.length;$e++){var Ke=_e[$e];if(n[Ke]&w){for(var Ze=$e-1;Ze>=0&&n[_e[Ze]]&(k|c);Ze--)i(_e[Ze],w);for($e++;$e<_e.length&&n[_e[$e]]&(k|c|w);$e++)n[_e[$e]]!==w&&i(_e[$e],w)}}if(a.get(k)||a.get(T)||a.get(A))for(var Qe=0;Qe<_e.length;Qe++){var Je=_e[Qe];if(n[Je]&(k|T|A)){i(Je,_);for(var et=Qe-1;et>=0&&n[_e[et]]&c;et--)i(_e[et],_);for(var tt=Qe+1;tt<_e.length&&n[_e[tt]]&c;tt++)i(_e[tt],_)}}if(a.get(w))for(var nt=0,rt=Me;nt<_e.length;nt++){var at=_e[nt],it=n[at];it&w?rt===x&&i(at,x):it&l&&(rt=it)}if(a.get(u)){for(var ot=S|w|U,st=ot|x,lt=[],ut=[],ct=0;ct<_e.length;ct++)if(n[_e[ct]]&u){var ht=e[_e[ct]],dt=void 0;if(null!==m(ht)){if(!(ut.length<63))break;ut.push({char:ht,seqIndex:ct})}else if(null!==(dt=g(ht)))for(var ft=ut.length-1;ft>=0;ft--){var pt=ut[ft].char;if(pt===dt||pt===g(y(ht))||m(y(pt))===ht){lt.push([ut[ft].seqIndex,ct]),ut.length=ft;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var vt=0;vt<lt.length;vt++){for(var mt=lt[vt],gt=mt[0],yt=mt[1],bt=!1,xt=0,St=gt+1;St<yt;St++){var wt=_e[St];if(n[wt]&st){bt=!0;var Tt=n[wt]&ot?S:x;if(Tt===Fe){xt=Tt;break}}}if(bt&&!xt){xt=Me;for(var kt=gt-1;kt>=0;kt--){var Ut=_e[kt];if(n[Ut]&st){var At=n[Ut]&ot?S:x;xt=At!==Fe?At:Fe;break}}}if(xt){if(n[_e[gt]]=n[_e[yt]]=xt,xt!==Fe)for(var Ct=gt+1;Ct<_e.length;Ct++)if(!(n[_e[Ct]]&c)){f(e[_e[Ct]])&P&&(n[_e[Ct]]=xt);break}if(xt!==Fe)for(var Et=yt+1;Et<_e.length;Et++)if(!(n[_e[Et]]&c)){f(e[_e[Et]])&P&&(n[_e[Et]]=xt);break}}}for(var _t=0;_t<_e.length;_t++)if(n[_e[_t]]&u){for(var Mt=_t,Pt=_t,Ft=Me,Dt=_t-1;Dt>=0;Dt--){if(!(n[_e[Dt]]&c)){Ft=n[_e[Dt]]&ot?S:x;break}Mt=Dt}for(var Ot=Pe,Rt=_t+1;Rt<_e.length;Rt++){if(!(n[_e[Rt]]&(u|c))){Ot=n[_e[Rt]]&ot?S:x;break}Pt=Rt}for(var It=Mt;It<=Pt;It++)n[_e[It]]=Ft===Ot?Ft:Fe;_t=Pt}}}for(var Lt=v.start;Lt<=v.end;Lt++){var Bt=o[Lt],jt=n[Lt];if(1&Bt?jt&(x|w|U)&&o[Lt]++:jt&S?o[Lt]++:jt&(U|w)&&(o[Lt]+=2),jt&c&&(o[Lt]=0===Lt?v.level:o[Lt-1]),Lt===v.end||f(e[Lt])&(E|C))for(var Gt=Lt;Gt>=0&&f(e[Gt])&h;Gt--)o[Gt]=v.level}}return{levels:o,paragraphs:p};function Vt(t,r){for(var a=t;a<e.length;a++){var i=n[a];if(i&(S|F))return 1;if(i&(C|x)||r&&i===V)return 0;if(i&s){var o=zt(a);a=-1===o?e.length:o}}return 0}function zt(t){for(var r=1,a=t+1;a<e.length;a++){var i=n[a];if(i&C)break;if(i&V){if(0==--r)return a}else i&s&&r++}return-1}},e.getMirroredCharacter=z,e.getMirroredCharactersMap=function(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);for(var i=new Map,o=n;o<=r;o++)if(1&t[o]){var s=z(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=N,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var a=W(e,t,n,r),i=[].concat(e);return a.forEach((function(n,r){i[r]=(1&t.levels[n]?z(e[n]):null)||e[n]})),i.join("")},e.openingToClosingBracket=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())})],init:e=>function(t){return new Promise((n=>{e.typeset(t,n)}))},getTransferables(e){const t=[];for(let n in e)e[n]&&e[n].buffer&&t.push(e[n].buffer);return t}});Ie.onMainThread;const Le={},Be="aTroikaGlyphIndex";class je extends y{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new b,this.boundingBox=new x}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,("number"!=typeof e||e<1)&&(e=1);let t=function(e){let t=Le[e];return t||(t=Le[e]=new S(1,1,e,e).translate(.5,.5,0)),t}(e);["position","normal","uv"].forEach((e=>{this.attributes[e]=t.attributes[e].clone()})),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,a){this.updateAttributeData("aTroikaGlyphBounds",e,4),this.updateAttributeData(Be,t,1),this.updateAttributeData("aTroikaGlyphColor",a,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:a,min:i,max:o,sin:s,cos:l}=Math,u=r/2,c=2*r,h=Math.abs(t),d=e[0]/h,f=e[2]/h,p=a((d+u)/c)!==a((f+u)/c)?-h:i(s(d)*h,s(f)*h),v=a((d-u)/c)!==a((f-u)/c)?h:o(s(d)*h,s(f)*h),m=a((d+r)/c)!==a((f+r)/c)?2*h:o(h-l(d)*h,h-l(f)*h);n.min.set(p,e[1],t<0?-m:0),n.max.set(v,e[3],t<0?0:m)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(Be).count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let a=n[r].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new w(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const Ge=new E({color:16777215,side:_,transparent:!0}),Ve=8421504,ze=new M,Ne=new n,We=new n,Xe=[],He=new n,Ye="+x+y";function qe(e){return Array.isArray(e)?e[0]:e}let $e=()=>{const e=new g(new S(1,1),Ge);return $e=()=>e,e},Ke=()=>{const e=new g(new S(1,1,32,1),Ge);return Ke=()=>e,e};const Ze={type:"syncstart"},Qe={type:"synccomplete"},Je=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],et=Je.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let tt=class extends g{constructor(){super(new je,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Ve,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Ye,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Ze),Fe({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{n.forEach((e=>e&&e()))}))),this.dispatchEvent(Qe),e&&e()}))))}onBeforeRender(e,t,n,r,a,i){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return function(e){const t=de(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new u},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new C(0,0,0,0)},uTroikaClipRect:{value:new C(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new u},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new T},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new A},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(ae,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Ge.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),this.hasOutline()){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function n(){e.removeEventListener("dispose",n),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return qe(this.material).getDepthMaterial()}get customDistanceMaterial(){return qe(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:e,blockBounds:a}=r;n.uTroikaSDFTexture.value=e,n.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(a),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let i,o,s,l=0,u=0,c=0,h=0,d=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:r,outlineOpacity:a}=this;l=this._parsePercent(e)||0,u=Math.max(0,this._parsePercent(r)||0),i=a,h=this._parsePercent(t)||0,d=this._parsePercent(n)||0}else c=Math.max(0,this._parsePercent(this.strokeWidth)||0),c&&(s=this.strokeColor,n.uTroikaStrokeColor.value.set(null==s?Ve:s),o=this.strokeOpacity,null==o&&(o=1)),i=this.fillOpacity;n.uTroikaEdgeOffset.value=l,n.uTroikaPositionOffset.value.set(h,d),n.uTroikaBlurRadius.value=u,n.uTroikaStrokeWidth.value=c,n.uTroikaStrokeOpacity.value=o,n.uTroikaFillOpacity.value=null==i?1:i,n.uTroikaCurveRadius.value=this.curveRadius||0;let f=this.clipRect;if(f&&Array.isArray(f)&&4===f.length)n.uTroikaClipRect.value.fromArray(f);else{const e=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(a[0]-e,a[1]-e,a[2]+e,a[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=t?this.outlineColor||0:this.color;if(null==a)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new T;a===t._input&&"object"!=typeof a||t.set(t._input=a)}let i=this.orientation||Ye;if(i!==e._orientation){let t=n.uTroikaOrient.value;i=i.replace(/[^-+xyz]/g,"");let r=i!==Ye&&i.match(/^([-+])([xyz])([-+])([xyz])$/);if(r){let[,e,n,a,i]=r;Ne.set(0,0,0)[n]="-"===e?1:-1,We.set(0,0,0)[i]="-"===a?-1:1,ze.lookAt(He,Ne.cross(We),We),t.setFromMatrix4(ze)}else t.identity();e._orientation=i}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new u){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new u){return Ne.copy(e),this.localPositionToTextCoords(this.worldToLocal(Ne),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const a=n.blockBounds,i=r?Ke():$e(),o=i.geometry,{position:s,uv:l}=o.attributes;for(let e=0;e<l.count;e++){let t=a[0]+l.getX(e)*(a[2]-a[0]);const n=a[1]+l.getY(e)*(a[3]-a[1]);let i=0;r&&(i=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),s.setXYZ(e,t,n,i)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,Xe.length=0,i.raycast(e,Xe);for(let e=0;e<Xe.length;e++)Xe[e].object=this,t.push(Xe[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,et.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}};Je.forEach((e=>{const t="_private_"+e;Object.defineProperty(tt.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})})),new x,new T;const nt=e.forwardRef((({sdfGlyphSize:t=64,anchorX:n="center",anchorY:r="middle",font:a,fontSize:i=1,children:o,characters:s,onSync:l,...u},c)=>{const h=P((({invalidate:e})=>e)),[d]=e.useState((()=>new tt)),[f,p]=e.useMemo((()=>{const t=[];let n="";return e.Children.forEach(o,(e=>{"string"==typeof e||"number"==typeof e?n+=e:t.push(e)})),[t,n]}),[o]);return function(e,t=null,n=!1,r={}){null===t&&(t=[e]);for(const o of L)if(B(t,o.keys,o.equal)){if(n)return;if({}.hasOwnProperty.call(o,"error"))throw o.error;if({}.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const a={keys:t,equal:r.equal,remove:()=>{const e=L.indexOf(a);-1!==e&&L.splice(e,1)},promise:(i=e,"object"==typeof i&&"function"==typeof i.then?e:e(...t)).then((e=>{a.response=e,r.lifespan&&r.lifespan>0&&(a.timeout=setTimeout(a.remove,r.lifespan))})).catch((e=>a.error=e))};var i;if(L.push(a),!n)throw a.promise}((()=>new Promise((e=>function({font:e,characters:t,sdfGlyphSize:n},r){Fe({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},r)}({font:a,characters:s},e)))),["troika-text",a,s],!1,void 0),e.useLayoutEffect((()=>{d.sync((()=>{h(),l&&l(d)}))})),e.useEffect((()=>()=>d.dispose()),[d]),e.createElement("primitive",I({object:d,ref:c,font:a,text:p,anchorX:n,anchorY:r,fontSize:i,sdfGlyphSize:t},u),f)})),rt=e.forwardRef((({makeDefault:t,camera:n,regress:r,domElement:a,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:l,onEnd:u,...c},h)=>{const d=P((e=>e.invalidate)),f=P((e=>e.camera)),p=P((e=>e.gl)),v=P((e=>e.events)),m=P((e=>e.setEvents)),g=P((e=>e.set)),y=P((e=>e.get)),b=P((e=>e.performance)),x=n||f,S=a||v.connected||p.domElement,w=e.useMemo((()=>new X(x)),[x]);return F((()=>{w.enabled&&w.update()}),-1),e.useEffect((()=>(o&&w.connect(!0===o?S:o),w.connect(S),()=>{w.dispose()})),[o,S,r,w,d]),e.useEffect((()=>{const e=e=>{d(),r&&b.regress(),s&&s(e)},t=e=>{l&&l(e)},n=e=>{u&&u(e)};return w.addEventListener("change",e),w.addEventListener("start",t),w.addEventListener("end",n),()=>{w.removeEventListener("start",t),w.removeEventListener("end",n),w.removeEventListener("change",e)}}),[s,l,u,w,d,m]),e.useEffect((()=>{if(t){const e=y().controls;return g({controls:w}),()=>g({controls:e})}}),[t,w]),e.createElement("primitive",I({ref:h,object:w,enableDamping:i},c))}));function at(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const it=e=>Array.isArray(e);function ot(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function st(e){return"string"==typeof e||Array.isArray(e)}function lt(e){const t=[{},{}];return null==e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function ut(e,t,n,r){if("function"==typeof t){const[a,i]=lt(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[a,i]=lt(r);t=t(void 0!==n?n:e.custom,a,i)}return t}function ct(e,t,n){const r=e.getProps();return ut(r,t,void 0!==n?n:r.custom,e)}const ht=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dt=["initial",...ht],ft=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pt=new Set(ft),vt=e=>1e3*e,mt=e=>e/1e3,gt={type:"spring",stiffness:500,damping:25,restSpeed:10},yt={type:"keyframes",duration:.8},bt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xt=(e,{keyframes:t})=>t.length>2?yt:pt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:gt:bt;function St(e,t){return e?e[t]||e.default||e:void 0}const wt=e=>null!==e;function Tt(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(wt),i=t&&"loop"!==n&&t%2==1?0:a.length-1;return i&&void 0!==r?r:a[i]}const kt=e=>e,Ut=["read","resolveKeyframes","update","preRender","render","postRender"];function At(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ut.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(t){i.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,a=!1,o=!1)=>{const s=o&&r?t:n;return a&&i.add(e),s.has(e)||s.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{o=e,r?a=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(s),r=!1,a&&(a=!1,l.process(e)))}};return l}(i),e)),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,f=()=>{const i=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1),a.timestamp=i,a.isProcessing=!0,s.process(a),l.process(a),u.process(a),c.process(a),h.process(a),d.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Ut.reduce(((t,i)=>{const s=o[i];return t[i]=(t,i=!1,o=!1)=>(n||(n=!0,r=!0,a.isProcessing||e(f)),s.schedule(t,i,o)),t}),{}),cancel:e=>{for(let t=0;t<Ut.length;t++)o[Ut[t]].cancel(e)},state:a,steps:o}}const{schedule:Ct,cancel:Et,state:_t}=At("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:kt,!0),Mt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Pt(e,t,n,r){return e===t&&n===r?kt:a=>0===a||1===a?a:Mt(function(e,t,n,r,a){let i,o,s=0;do{o=t+(n-t)/2,i=Mt(o,r,a)-e,i>0?n=o:t=o}while(Math.abs(i)>1e-7&&++s<12);return o}(a,0,1,e,n),t,r)}const Ft=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Dt=e=>t=>1-e(1-t),Ot=Pt(.33,1.53,.69,.99),Rt=Dt(Ot),It=Ft(Rt),Lt=e=>(e*=2)<1?.5*Rt(e):.5*(2-Math.pow(2,-10*(e-1))),Bt=e=>1-Math.sin(Math.acos(e)),jt=Dt(Bt),Gt=Ft(Bt),Vt=e=>/^0[^.\s]+$/u.test(e);let zt=kt;const Nt=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Wt=(()=>e=>"string"==typeof e&&e.startsWith("var(--"))(),Xt=e=>!!Wt(e)&&Ht.test(e.split("/*")[0].trim()),Ht=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qt(e,t,n=1){const[r,a]=function(e){const t=Yt.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${null!=n?n:r}`,a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Nt(e)?parseFloat(e):e}return Xt(a)?qt(a,t,n+1):a}const $t=(e,t,n)=>n>t?t:n<e?e:n,Kt={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Zt={...Kt,transform:e=>$t(0,1,e)},Qt={...Kt,default:1},Jt=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),en=Jt("deg"),tn=Jt("%"),nn=Jt("px"),rn=Jt("vh"),an=Jt("vw"),on={...tn,parse:e=>tn.parse(e)/100,transform:e=>tn.transform(100*e)},sn=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ln=e=>e===Kt||e===nn,un=(e,t)=>parseFloat(e.split(", ")[t]),cn=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return un(a[1],t);{const t=r.match(/^matrix\((.+)\)$/u);return t?un(t[1],e):0}},hn=new Set(["x","y","z"]),dn=ft.filter((e=>!hn.has(e))),fn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cn(4,13),y:cn(5,14)};fn.translateX=fn.x,fn.translateY=fn.y;const pn=e=>t=>t.test(e),vn=[Kt,nn,tn,en,an,rn,{test:e=>"auto"===e,parse:e=>e}],mn=e=>vn.find(pn(e)),gn=new Set;let yn=!1,bn=!1;function xn(){if(bn){const e=Array.from(gn).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return dn.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}bn=!1,yn=!1,gn.forEach((e=>e.complete())),gn.clear()}function Sn(){gn.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(bn=!0)}))}class wn{constructor(e,t,n,r,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gn.add(this),yn||(yn=!0,Ct.read(Sn),Ct.resolveKeyframes(xn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let a=0;a<e.length;a++)if(null===e[a])if(0===a){const a=null==r?void 0:r.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Tn=e=>Math.round(1e5*e)/1e5,kn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Un=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,An=(e,t)=>n=>Boolean("string"==typeof n&&Un.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&{}.hasOwnProperty.call(n,t)),Cn=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[a,i,o,s]=r.match(kn);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},En={...Kt,transform:e=>Math.round((e=>$t(0,255,e))(e))},_n={test:An("rgb","red"),parse:Cn("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+En.transform(e)+", "+En.transform(t)+", "+En.transform(n)+", "+Tn(Zt.transform(r))+")"},Mn={test:An("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:_n.transform},Pn={test:An("hsl","hue"),parse:Cn("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tn.transform(Tn(t))+", "+tn.transform(Tn(n))+", "+Tn(Zt.transform(r))+")"},Fn={test:e=>_n.test(e)||Mn.test(e)||Pn.test(e),parse:e=>_n.test(e)?_n.parse(e):Pn.test(e)?Pn.parse(e):Mn.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?_n.transform(e):Pn.transform(e)},Dn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,On="number",Rn="color",In=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ln(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(In,(e=>(Fn.test(e)?(r.color.push(i),a.push(Rn),n.push(Fn.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(On),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:a}}function Bn(e){return Ln(e).values}function jn(e){const{split:t,types:n}=Ln(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===On?Tn(e[i]):t===Rn?Fn.transform(e[i]):e[i]}return a}}const Gn=e=>"number"==typeof e?0:e,Vn={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(kn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Dn))||void 0===n?void 0:n.length)||0)>0},parse:Bn,createTransformer:jn,getAnimatableNone:function(e){const t=Bn(e);return jn(e)(t.map(Gn))}},zn=new Set(["brightness","contrast","saturate","opacity"]);function Nn(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(kn)||[];if(!r)return e;const a=n.replace(r,"");let i=zn.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Wn=/\b([a-z-]*)\(.*?\)/gu,Xn={...Vn,getAnimatableNone:e=>{const t=e.match(Wn);return t?t.map(Nn).join(" "):e}},Hn={borderWidth:nn,borderTopWidth:nn,borderRightWidth:nn,borderBottomWidth:nn,borderLeftWidth:nn,borderRadius:nn,radius:nn,borderTopLeftRadius:nn,borderTopRightRadius:nn,borderBottomRightRadius:nn,borderBottomLeftRadius:nn,width:nn,maxWidth:nn,height:nn,maxHeight:nn,top:nn,right:nn,bottom:nn,left:nn,padding:nn,paddingTop:nn,paddingRight:nn,paddingBottom:nn,paddingLeft:nn,margin:nn,marginTop:nn,marginRight:nn,marginBottom:nn,marginLeft:nn,backgroundPositionX:nn,backgroundPositionY:nn},Yn={rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:Qt,scaleX:Qt,scaleY:Qt,scaleZ:Qt,skew:en,skewX:en,skewY:en,distance:nn,translateX:nn,translateY:nn,translateZ:nn,x:nn,y:nn,z:nn,perspective:nn,transformPerspective:nn,opacity:Zt,originX:on,originY:on,originZ:nn},qn={...Kt,transform:Math.round},$n={...{...Hn,...Yn,zIndex:qn,size:nn,fillOpacity:Zt,strokeOpacity:Zt,numOctaves:qn},color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:Xn,WebkitFilter:Xn};function Kn(e,t){let n=(e=>$n[e])(e);return n!==Xn&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Zn=new Set(["auto","none","0"]);class Qn extends wn{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"==typeof n&&(n=n.trim(),Xt(n))){const r=qt(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!sn.has(n)||2!==e.length)return;const[r,a]=e,i=mn(r),o=mn(a);if(i!==o)if(ln(i)&&ln(o))for(let s=0;s<e.length;s++){const t=e[s];"string"==typeof t&&(e[s]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let a=0;a<e.length;a++)("number"==typeof(r=e[a])?0===r:null===r||"none"===r||"0"===r||Vt(r))&&n.push(a);var r;n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"==typeof t&&!Zn.has(t)&&Ln(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=Kn(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=fn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((([e,n])=>{t.getValue(e).set(n)})),this.resolveNoneKeyframes()}}function Jn(e){return"function"==typeof e}let er;function tr(){er=void 0}const nr={now:()=>(void 0===er&&nr.set(_t.isProcessing?_t.timestamp:performance.now()),er),set:e=>{er=e,queueMicrotask(tr)}},rr=(e,t)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!Vn.test(e)&&"0"!==e||e.startsWith("url(")));class ar{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=nr.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:a,repeatType:i,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Sn(),xn()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=nr.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:a,delay:i,onComplete:o,onUpdate:s,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],o=rr(a,t),s=rr(i,t);return!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Jn(n))&&r)}(e,n,r,a)){if(!i)return null==s||s(Tt(e,this.options,t)),null==o||o(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function ir(e,t){return t?e*(1e3/t):0}function or(e,t,n){const r=Math.max(t-5,0);return ir(n-e(r),t-r)}function sr(e,t){return e*Math.sqrt(1-t*t)}const lr=["duration","bounce"],ur=["stiffness","damping","mass"];function cr(e,t){return t.some((t=>void 0!==e[t]))}function hr({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:d}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!cr(e,ur)&&cr(e,lr)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=$t(.05,1,o),e=$t(.01,10,mt(e)),o<1?(a=t=>{const r=t*o,a=r*e;return.001-(r-n)/sr(t,o)*Math.exp(-a)},i=t=>{const r=t*o*e,i=r*n+n,s=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=sr(Math.pow(t,2),o);return(.001-a(t)>0?-1:1)*((i-s)*l)/u}):(a=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let a=1;a<12;a++)r-=e(r)/t(r);return r}(a,i,5/e);if(e=vt(e),isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...r,velocity:-mt(r.velocity||0)}),f=h||0,p=l/(2*Math.sqrt(s*u)),v=i-a,m=mt(Math.sqrt(s/u)),g=Math.abs(v)<5;let y;if(n||(n=g?.01:2),t||(t=g?.005:.5),p<1){const e=sr(m,p);y=t=>{const n=Math.exp(-p*m*t);return i-n*((f+p*m*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===p)y=e=>i-Math.exp(-m*e)*(v+(f+m*v)*e);else{const e=m*Math.sqrt(p*p-1);y=t=>{const n=Math.exp(-p*m*t),r=Math.min(e*t,300);return i-n*((f+p*m*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}return{calculatedDuration:d&&c||null,next:e=>{const r=y(e);if(d)o.done=e>=c;else{let a=0;p<1&&(a=0===e?vt(f):or(y,e,r));const s=Math.abs(a)<=n,l=Math.abs(i-r)<=t;o.done=s&&l}return o.value=o.done?i:r,o}}}function dr({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],d={done:!1,value:h},f=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let p=n*t;const v=h+p,m=void 0===o?v:o(v);m!==v&&(p=m-h);const g=e=>-p*Math.exp(-e/r),y=e=>m+g(e),b=e=>{const t=g(e),n=y(e);d.done=Math.abs(t)<=u,d.value=d.done?m:n};let x,S;const w=e=>{var t;t=d.value,(void 0!==s&&t<s||void 0!==l&&t>l)&&(x=e,S=hr({keyframes:[d.value,f(d.value)],velocity:or(y,e,d.value),damping:a,stiffness:i,restDelta:u,restSpeed:c}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,b(e),w(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&b(e),d)}}}const fr=Pt(.42,0,1,1),pr=Pt(0,0,.58,1),vr=Pt(.42,0,.58,1),mr=e=>Array.isArray(e)&&"number"==typeof e[0],gr={linear:kt,easeIn:fr,easeInOut:vr,easeOut:pr,circIn:Bt,circInOut:Gt,circOut:jt,backIn:Rt,backInOut:It,backOut:Ot,anticipate:Lt},yr=e=>{if(mr(e)){zt(4===e.length);const[t,n,r,a]=e;return Pt(t,n,r,a)}return"string"==typeof e?(zt(void 0!==gr[e]),gr[e]):e},br=(e,t)=>n=>t(e(n)),xr=(...e)=>e.reduce(br),Sr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},wr=(e,t,n)=>e+(t-e)*n;function Tr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kr(e,t){return n=>n>0?t:e}const Ur=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Ar=[Mn,_n,Pn];function Cr(e){const t=(n=e,Ar.find((e=>e.test(n))));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===Pn&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let a=0,i=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;a=Tr(s,r,e+1/3),i=Tr(s,r,e),o=Tr(s,r,e-1/3)}else a=i=o=n;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*o),alpha:r}}(r)),r}const Er=(e,t)=>{const n=Cr(e),r=Cr(t);if(!n||!r)return kr(e,t);const a={...n};return e=>(a.red=Ur(n.red,r.red,e),a.green=Ur(n.green,r.green,e),a.blue=Ur(n.blue,r.blue,e),a.alpha=wr(n.alpha,r.alpha,e),_n.transform(a))},_r=new Set(["none","hidden"]);function Mr(e,t){return n=>wr(e,t,n)}function Pr(e){return"number"==typeof e?Mr:"string"==typeof e?Xt(e)?kr:Fn.test(e)?Er:Or:Array.isArray(e)?Fr:"object"==typeof e?Fn.test(e)?Er:Dr:kr}function Fr(e,t){const n=[...e],r=n.length,a=e.map(((e,n)=>Pr(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function Dr(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=Pr(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Or=(e,t)=>{const n=Vn.createTransformer(t),r=Ln(e),a=Ln(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?_r.has(e)&&!a.values.length||_r.has(t)&&!r.values.length?function(e,t){return _r.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):xr(Fr(function(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][a[o]],l=null!==(n=e.values[s])&&void 0!==n?n:0;r[i]=l,a[o]++}return r}(r,a),a.values),n):kr(e,t)};function Rr(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?wr(e,t,n):Pr(e)(e,t)}function Ir({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(yr):yr(r),i={done:!1,value:t[0]},o=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:function(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Sr(0,t,r);e.push(wr(n,1,a))}}(t,e.length-1),t}(t),e),s=function(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(zt(i===t.length),1===i)return()=>t[0];if(2===i&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||Rr,i=e.length-1;for(let o=0;o<i;o++){let n=a(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||kt:t;n=xr(e,n)}r.push(n)}return r}(t,r,a),s=o.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Sr(e[n],e[n+1],t);return o[n](r)};return n?t=>l($t(e[0],e[i-1],t)):l}(o,t,{ease:Array.isArray(a)?a:(l=t,u=a,l.map((()=>u||vr)).splice(0,l.length-1))});var l,u;return{calculatedDuration:e,next:t=>(i.value=s(t),i.done=t>=e,i)}}const Lr=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Ct.update(t,!0),stop:()=>Et(t),now:()=>_t.isProcessing?_t.timestamp:nr.now()}},Br={decay:dr,inertia:dr,tween:Ir,keyframes:Ir,spring:hr},jr=e=>e/100;class Gr extends ar{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:a}=this.options,i=(null==r?void 0:r.KeyframeResolver)||wn;this.resolver=new i(a,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=this.options,o=Jn(t)?t:Br[t]||Ir;let s,l;o!==Ir&&"number"!=typeof e[0]&&(s=xr(jr,Rr(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});"mirror"===a&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===u.calculatedDuration&&(u.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(u));const{calculatedDuration:c}=u,h=c+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:c,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:s,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return a.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>u;this.currentTime=Math.max(m,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let y=this.currentTime,b=a;if(d){const e=Math.min(this.currentTime,u)/c;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1),Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/c)):"mirror"===f&&(b=i)),y=$t(0,1,n)*c}const x=g?{done:!1,value:s[0]}:b.next(y);o&&(x.value=o(x.value));let{done:S}=x;g||null===l||(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&S);return w&&void 0!==r&&(x.value=Tt(s,this.options,r)),v&&v(x.value),w&&this.finish(),x}get duration(){const{resolved:e}=this;return e?mt(e.calculatedDuration):0}get time(){return mt(this.currentTime)}set time(e){e=vt(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=mt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Lr,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Vr=new Set(["opacity","clipPath","filter","transform"]);function zr(e){let t;return()=>(void 0===t&&(t=e()),t)}const Nr={linearEasing:void 0};function Wr(e,t){const n=zr(e);return()=>{var e;return null!==(e=Nr[t])&&void 0!==e?e:n()}}const Xr=Wr((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing");function Hr(e){return Boolean("function"==typeof e&&Xr()||!e||"string"==typeof e&&(e in qr||Xr())||mr(e)||Array.isArray(e)&&e.every(Hr))}const Yr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,qr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yr([0,.65,.55,1]),circOut:Yr([.55,0,1,.45]),backIn:Yr([.31,.01,.66,-.59]),backOut:Yr([.33,1.53,.69,.99])};function $r(e,t){return e?"function"==typeof e&&Xr()?((e,t)=>{let n="";const r=Math.max(Math.round(t/10),2);for(let a=0;a<r;a++)n+=e(Sr(0,r-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`})(e,t):mr(e)?Yr(e):Array.isArray(e)?e.map((e=>$r(e,t)||qr.easeOut)):qr[e]:void 0}function Kr(e,t){e.timeline=t,e.onfinish=null}const Zr=zr((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Qr={anticipate:Lt,backInOut:It,circInOut:Gt};class Jr extends ar{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:a}=this.options;this.resolver=new Qn(a,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:a,ease:i,type:o,motionValue:s,name:l,startTime:u}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;var c;if("string"==typeof i&&Xr()&&i in Qr&&(i=Qr[i]),Jn((c=this.options).type)||"spring"===c.type||!Hr(c.ease)){const{onComplete:t,onUpdate:n,motionValue:s,element:l,...u}=this.options,c=function(e,t){const n=new Gr({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),a.push(r.value),i+=10;return{times:void 0,keyframes:a,duration:i-10,ease:"linear"}}(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),r=c.duration,a=c.times,i=c.ease,o="keyframes"}const h=function(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=$r(s,a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:a,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:"reverse"===o?"alternate":"normal"})}(s.owner.current,l,e,{...this.options,duration:r,times:a,ease:i});return h.startTime=null!=u?u:this.calcStartTime(),this.pendingTimeline?(Kr(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:n}=this.options;s.set(Tt(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:a,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return mt(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return mt(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=vt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return kt;const{animation:n}=t;Kr(n,e)}else this.pendingTimeline=e;return kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:a,ease:i,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:s,element:l,...u}=this.options,c=new Gr({...u,keyframes:n,duration:r,type:a,ease:i,times:o,isGenerator:!0}),h=vt(this.time);e.setWithVelocity(c.sample(h-10).value,c.sample(h).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;return Zr()&&n&&Vr.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==a&&0!==i&&"inertia"!==o}}const ea=zr((()=>void 0!==window.ScrollTimeline));class ta{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>ea()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const na=(e,t,n,r={},a,i)=>o=>{const s=St(r,e)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u-=vt(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-u,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:a};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length})(s)||(c={...c,...xt(e,c)}),c.duration&&(c.duration=vt(c.duration)),c.repeatDelay&&(c.repeatDelay=vt(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(c.duration=0,0===c.delay&&(h=!0)),h&&!i&&void 0!==t.get()){const e=Tt(c.keyframes,s);if(void 0!==e)return Ct.update((()=>{c.onUpdate(e),c.onComplete()})),new ta([])}return!i&&Jr.supports(c)?new Jr(c):new Gr(c)};class ra{constructor(){this.subscriptions=[]}add(e){var t,n;return t=this.subscriptions,n=e,-1===t.indexOf(n)&&t.push(n),()=>function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class aa{constructor(e,t={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=nr.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=nr.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ra);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ct.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=nr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ir(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ia(e,t){return new aa(e,t)}function oa(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ia(n))}const sa="data-"+"framerAppearId".replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();function la(e){return e.props[sa]}const ua=e=>Boolean(e&&e.getVelocity);function ca(e,t){const n=e.getValue("willChange");if(r=n,Boolean(ua(r)&&r.add))return n.add(t);var r}function ha({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function da(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(o=r);const u=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const t=e.getValue(h,null!==(i=e.latestValues[h])&&void 0!==i?i:null),r=l[h];if(void 0===r||c&&ha(c,h))continue;const a={delay:n,...St(o||{},h)};let s=!1;if(window.MotionHandoffAnimation){const t=la(e);if(t){const e=window.MotionHandoffAnimation(t,h,Ct);null!==e&&(a.startTime=e,s=!0)}}ca(e,h),t.start(na(h,t,r,e.shouldReduceMotion&&pt.has(h)?{type:!1}:a,e,s));const d=t.animation;d&&u.push(d)}return s&&Promise.all(u).then((()=>{Ct.update((()=>{s&&function(e,t){const n=ct(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const s in i)oa(e,s,(o=i[s],it(o)?o[o.length-1]||0:o));var o}(e,s)}))})),u}function fa(e,t,n={}){var r;const a=ct(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(da(e,a,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return function(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=1===a?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(pa).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(fa(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,a+r,o,s,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[o,s]:[s,o];return e().then((()=>t()))}return Promise.all([o(),s(n.delay)])}function pa(e,t){return e.sortNodePosition(t)}const va=dt.length;function ma(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ma(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<va;n++){const r=dt[n],a=e.props[r];(st(a)||!1===a)&&(t[r]=a)}return t}const ga=[...ht].reverse(),ya=ht.length;function ba(e){let t=function(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map((t=>fa(e,t,n)));r=Promise.all(a)}else if("string"==typeof t)r=fa(e,t,n);else{const a="function"==typeof t?ct(e,t,n.custom):t;r=Promise.all(da(e,a,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}(e),n=Sa(),r=!0;const a=t=>(n,r)=>{var a;const i=ct(e,r,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const{props:o}=e,s=ma(e.parent)||{},l=[],u=new Set;let c={},h=1/0;for(let t=0;t<ya;t++){const p=ga[t],v=n[p],m=void 0!==o[p]?o[p]:s[p],g=st(m),y=p===i?v.isActive:null;!1===y&&(h=t);let b=m===s[p]&&m!==o[p]&&g;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys={...c},!v.isActive&&null===y||!m&&!v.prevProp||at(m)||"boolean"==typeof m)continue;const x=(d=v.prevProp,"string"==typeof(f=m)?f!==d:!!Array.isArray(f)&&!ot(f,d));let S=x||p===i&&v.isActive&&!b&&g||t>h&&g,w=!1;const T=Array.isArray(m)?m:[m];let k=T.reduce(a(p),{});!1===y&&(k={});const{prevResolvedValues:U={}}=v,A={...U,...k},C=t=>{S=!0,u.has(t)&&(w=!0,u.delete(t)),v.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in A){const t=k[e],n=U[e];if(c.hasOwnProperty(e))continue;let r=!1;r=it(t)&&it(n)?!ot(t,n):t!==n,r?null!=t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):v.protectedKeys[e]=!0}v.prevProp=m,v.prevResolvedValues=k,v.isActive&&(c={...c,...k}),r&&e.blockInitialAnimation&&(S=!1),S&&(!b||!x||w)&&l.push(...T.map((e=>({animation:e,options:{type:p}}))))}var d,f;if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=null!=r?r:null})),l.push({animation:t})}let p=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=i(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Sa(),r=!0}}}function xa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sa(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class wa{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Ta=0;const ka={animation:{Feature:class extends wa{constructor(e){super(e),e.animationState||(e.animationState=ba(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();at(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends wa{constructor(){super(...arguments),this.id=Ta++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ua=e=>t=>(e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary)(t)&&e(t,function(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}(t));function Aa(e,t,n,r){return function(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}(e,t,Ua(n),r)}function Ca(e){let t=null;return()=>null===t&&(t=e,()=>{t=null})}const Ea=Ca("dragHorizontal"),_a=Ca("dragVertical");function Ma(e){return e&&"object"==typeof e&&{}.hasOwnProperty.call(e,"current")}const Pa=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Fa=e.createContext(null),Da=e.createContext({}),Oa=e.createContext({}),{schedule:Ra}=At(queueMicrotask,!1);function Ia(e){const t=ua(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const La=e.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ba=e.createContext({}),ja="undefined"!=typeof window,Ga=ja?e.useLayoutEffect:e.useEffect,Va=e.createContext({strict:!1});function za(t,n,r,a,i){var o,s;const{visualElement:l}=e.useContext(Ba),u=e.useContext(Va),c=e.useContext(Fa),h=e.useContext(La).reducedMotion,d=e.useRef();a=a||u.renderer,!d.current&&a&&(d.current=a(t,{visualState:n,parent:l,props:r,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:h}));const f=d.current,p=e.useContext(Oa);!f||f.projection||!i||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Na(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(o)||s&&Ma(s),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(d.current,r,i,p);const v=e.useRef(!1);e.useInsertionEffect((()=>{f&&v.current&&f.update(r,c)}));const m=r[sa],g=e.useRef(Boolean(m)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,m))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,m)));return Ga((()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Ra.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())})),e.useEffect((()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)})),g.current=!1))})),f}function Na(e){if(e)return!1!==e.options.allowProjection?e.projection:Na(e.parent)}function Wa(t,n,r){return e.useCallback((e=>{e&&t.mount&&t.mount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"==typeof r?r(e):Ma(r)&&(r.current=e))}),[n])}function Xa(e){return at(e.animate)||dt.some((t=>st(e[t])))}function Ha(e){return Boolean(Xa(e)||e.variants)}function Ya(e){return Array.isArray(e)?e.join(" "):e}const qa={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$a={};for(const Ni in qa)$a[Ni]={isEnabled:e=>qa[Ni].some((t=>!!e[t]))};const Ka=Symbol.for("motionComponentSymbol");function Za({layoutId:t}){const n=e.useContext(Da).id;return n&&void 0!==t?n+"-"+t:t}function Qa(e,t,n,r){const a={},i=r(e,{});for(const d in i)a[d]=Ia(i[d]);let{initial:o,animate:s}=e;const l=Xa(e),u=Ha(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?s:o;if(h&&"boolean"!=typeof h&&!at(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=ut(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];Array.isArray(e)&&(e=e[c?e.length-1:0]),null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const Ja=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ei(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ja.has(e)}let ti=e=>!ei(e);try{(ni=require("@emotion/is-prop-valid").default)&&(ti=e=>e.startsWith("on")?!ei(e):ni(e))}catch(zi){}var ni;function ri(e,t,n){const r={};for(const a in e)"values"===a&&"object"==typeof e.values||(ti(a)||!0===n||!ei(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const ai={current:null},ii={current:!1},oi=new WeakMap,si=[...vn,Fn,Vn],li=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ui{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=nr.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ct.render(this.render,!1,!0))};const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Xa(t),this.isVariantNode=Ha(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in c){const e=c[h];void 0!==s[h]&&ua(e)&&e.set(s[h],!1)}}mount(e){this.current=e,oi.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),ii.current||function(){if(ii.current=!0,ja)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ai.current=e.matches;e.addListener(t),t()}else ai.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ai.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oi.delete(this.current),this.projection&&this.projection.unmount(),Et(this.notifyUpdate),Et(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=pt.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),a(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in $a){const t=$a[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<li.length;n++){const t=li[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(ua(a))e.addValue(r,a);else if(ua(i))e.addValue(r,ia(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,ia(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ia(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return null!=r&&("string"==typeof r&&(Nt(r)||Vt(r))?r=parseFloat(r):(a=r,!si.find(pn(a))&&Vn.test(t)&&(r=Kn(e,t))),this.setBaseTarget(e,ua(r)?r.get():r)),ua(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const a=ut(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);a&&(r=a[e])}if(n&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||ua(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new ra),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}function ci(e,{whileHover:t,onHoverStart:n,onHoverEnd:r,onPointerOver:a,onPointerOut:i},o){return!e&&o&&(t||n||r)?{onPointerOver:e=>{var t;null===(t=o.animationState)||void 0===t||t.setActive("whileHover",!0),a&&a(e)},onPointerOut:e=>{var t;null===(t=o.animationState)||void 0===t||t.setActive("whileHover",!1),i&&i(e)}}:{}}function hi(t,{whileTap:n,onTapStart:r,onTap:a,onTapCancel:i,onPointerDown:o},s){const l=a||r||i||n,u=e.useRef(!1),c=e.useRef(null);if(t||!s||!l)return{};function h(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function d(){var e;return h(),u.current=!1,null===(e=s.animationState)||void 0===e||e.setActive("whileTap",!1),!function(){const e=function(){let e=!1;{const t=Ea(),n=_a();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}();return!e||(e(),!1)}()}function f(e,t){d()&&(null==a||a(e,t))}function p(e,t){d()&&(null==i||i(e,t))}return{onPointerDown:Ua(((e,t)=>{var n;if(h(),u.current)return;u.current=!0;const l={passive:!(r||a||i||o)};c.current=xr(Aa(window,"pointerup",f,l),Aa(window,"pointercancel",p,l)),null===(n=s.animationState)||void 0===n||n.setActive("whileTap",!0),null==o||o(e),null==r||r(e,t)}))}}const di=(t,n,r,a,i,o)=>{const s=function(t){return e.useMemo((()=>{const e={};for(const n in t){const r=t[n];ua(r)?e[n]=r.get():Array.isArray(r)&&r.includes(ua)&&(e[n]=r.map(Ia))}return e}),[])}(n);return e.createElement(t,{ref:r,...ri(n,0,!1),...s,onUpdate:n.onInstanceUpdate,...ci(i,n,o),...hi(i,n,o)})},fi=(e,t)=>r=>(a,i)=>{void 0===a[e]&&(a[e]=new n(t)),a[e].setComponent(r,i)},pi=e=>(t,n)=>{void 0===t[e]&&(t[e]=new T(n)),t[e].set(n)},vi=fi("scale",1),mi=fi("position",0),gi=(yi="rotation",e=>(t,n)=>{void 0===t[yi]&&(t[yi]=new D(0)),t[yi][e]=n});var yi;const bi={x:mi(0),y:mi(1),z:mi(2),scale:(e,t)=>{void 0===e.scale&&(e.scale=new n(1)),e.scale.set(t,t,t)},scaleX:vi(0),scaleY:vi(1),scaleZ:vi(2),rotateX:gi("x"),rotateY:gi("y"),rotateZ:gi("z"),color:pi("color"),specular:pi("specular")};function xi(e,t,n){t in bi?bi[t](e,n[t]):("opacity"!==t||e.transparent||(e.transparent=!0),e[t]=n[t])}const Si=(e,t)=>n=>r=>{const a=r[e];return a?a[n]:t},wi=Si("position",0),Ti=Si("scale",1),ki=Si("rotation",0),Ui={x:wi("x"),y:wi("y"),z:wi("z"),scale:Ti("x"),scaleX:Ti("x"),scaleY:Ti("y"),scaleZ:Ti("z"),rotateX:ki("x"),rotateY:ki("y"),rotateZ:ki("z")},Ai=["x","y","z"],Ci={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},Ei=(e,t)=>{const n={};let r;for(r in e){const a=e[r];if(ua(a)||ua(t[r]))n[Ci[r]||r]=a;else if(Array.isArray(a))for(let e=0;e<a.length;e++){const i=a[e],o=t[r],s=Array.isArray(o)?o[e]:void 0;(ua(i)||void 0!==s&&ua(s))&&(n[Ci[`${r}-${Ai[e]}`]]=i)}}return n};class _i extends ui{constructor(){super(...arguments),this.type="three",this.measureInstanceViewportBox=Pa}readValueFromInstance(e,t){return function(e,t){return t in Ui?Ui[t](e):(void 0===(n=e[t])?void 0:n instanceof T?n.getStyle():n)||0;var n}(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}removeValueFromRenderState(){}scrapeMotionValuesFromProps(e,t){return Ei(e,t)}build(e,t){for(const n in t)e[n]=t[n]}renderInstance(e,t){for(const n in t)xi(e,n,t)}}const Mi=(e,t)=>new _i(t,{}),Pi=(Fi={scrapeMotionValuesFromProps:Ei,createRenderState:()=>({})},(t,n)=>{const r=e.useContext(Ba),a=e.useContext(Fa),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Qa(r,a,i,e),renderState:t()};return n&&(o.mount=e=>n(r,e,o)),o}(Fi,t,r,a);return n?i():function(t){const n=e.useRef(null);return null===n.current&&(n.current=t()),n.current}(i)});var Fi;const Di={...ka};function Oi(t){return function({preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:a,Component:i}){t&&function(e){for(const t in e)$a[t]={...$a[t],...e[t]}}(t);const o=e.forwardRef((function(t,o){let s;const l={...e.useContext(La),...t,layoutId:Za(t)},{isStatic:u}=l,c=function(t){const{initial:n,animate:r}=function(e,t){if(Xa(e)){const{initial:t,animate:n}=e;return{initial:!1===t||st(t)?t:void 0,animate:st(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,e.useContext(Ba));return e.useMemo((()=>({initial:n,animate:r})),[Ya(n),Ya(r)])}(t),h=a(t,u);if(!u&&ja){e.useContext(Va).strict;const t=function(e){const{drag:t,layout:n}=$a;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=t.MeasureLayout,c.visualElement=za(i,h,l,n,t.ProjectionNode)}return R.jsxs(Ba.Provider,{value:c,children:[s&&c.visualElement?R.jsx(s,{visualElement:c.visualElement,...l}):null,r(i,t,Wa(h,c.visualElement,o),h,u,c.visualElement)]})}));return o[Ka]=i,o}({Component:t,preloadedFeatures:Di,useRender:di,useVisualState:Pi,createVisualElement:Mi})}const Ri=new Map,Ii=new Proxy(Oi,{get:(e,t)=>(!Ri.has(t)&&Ri.set(t,Oi(t)),Ri.get(t))});function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e.memo((function(t){var n,r=t.skill,a=t.position,i=function(e){if(Array.isArray(e))return e}(n=useState(!1))||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a,i,o=[],s=!0,l=!1;try{for(a=(t=t.call(e)).next,!2;!(s=(n=a.call(t)).done)&&(o.push(n.value),2!==o.length);s=!0);}catch(u){l=!0,r=u}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw r}}return o}}(n)||function(e){if(e){if("string"==typeof e)return Bi(e,2);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bi(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],s=i[1],l=e.useRef();return R.jsx(Ii.group,{position:a,animate:{scale:o?1.2:1},transition:{duration:.3},onPointerOver:function(){return s(!0)},onPointerOut:function(){return s(!1)},children:R.jsx(nt,{ref:l,fontSize:.2,color:o?"#60A5FA":"#94A3B8",anchorX:"center",anchorY:"middle",maxWidth:2,children:r})})})).displayName="SkillText";var ji=e.memo((function(t){var n=t.skills;return R.jsxs(e.Suspense,{fallback:null,children:[R.jsx("ambientLight",{intensity:.5}),R.jsx("pointLight",{position:[10,10,10]}),R.jsx(rt,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.5}),n.map((function(e,t){return R.jsx(Ii.group,{position:e.position,children:R.jsx(nt,{color:"#2563eb",fontSize:.2,maxWidth:2,lineHeight:1,letterSpacing:.02,textAlign:"center",anchorX:"center",anchorY:"middle",children:e.name})},e.name)}))]})}));ji.displayName="Scene";var Gi=function(){return R.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-lg",children:R.jsx("div",{className:"text-center",children:R.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["3D visualization is not available.",R.jsx("br",{}),"Please try using a modern browser with WebGL support."]})})})},Vi=e.memo((function(t){var n,r,a,i,o=t.skills,s=e.useRef(null);if(r=function(e){if(Array.isArray(e))return e}(n=e.useState(!1))||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a,i,o=[],s=!0,l=!1;try{for(a=(t=t.call(e)).next,!2;!(s=(n=a.call(t)).done)&&(o.push(n.value),2!==o.length);s=!0);}catch(u){l=!0,r=u}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw r}}return o}}(n)||function(e){if(e){if("string"==typeof e)return Li(e,2);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Li(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],i=r[1],e.useEffect((function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl2")||e.getContext("webgl");i(!!t)}catch(n){i(!1)}}),[]),!a)return R.jsx(Gi,{});var l=function(e){return e.map((function(t,n){var r=Math.acos(2*n/e.length-1),a=Math.sqrt(e.length*Math.PI)*r;return{name:t,position:[2.5*Math.cos(a)*Math.sin(r),2.5*Math.sin(a)*Math.sin(r),2.5*Math.cos(r)]}}))}(o);return R.jsx("div",{ref:s,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:10,overflow:"hidden",willChange:"transform",contain:"content"},children:R.jsx(O,{camera:{position:[0,0,12],fov:45},style:{background:"transparent",width:"100%",height:"100%",position:"absolute"},dpr:[1,1],gl:{alpha:!0,antialias:!0,preserveDrawingBuffer:!1,powerPreference:"default",depth:!0,stencil:!1},frameloop:"demand",performance:{min:.1},children:R.jsx(ji,{skills:l})})})}));Vi.displayName="SkillSphere";export{Vi as SkillSphere};
